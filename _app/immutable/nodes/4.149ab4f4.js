import{S as br,i as Er,s as yr,k as f,a as S,q as w,l as d,m as E,c as g,r as A,h as i,n as s,Q as at,p as re,b,D as a,R as De,T as k,I as K,U as Sr,E as lt,J as yt,P as ft,V as it}from"../chunks/index.f3787bc2.js";const gr=!0,sl=Object.freeze(Object.defineProperty({__proto__:null,prerender:gr},Symbol.toStringTag,{value:"Module"})),xt=[{value:"AAS",text:"Personale di assistenza ad alta specializzazione"},{value:"APR",text:"Medico Medicina Generale Pediatra di Libera Scelta"},{value:"PSS",text:"Professionista del sociale"},{value:"INF",text:"Personale infermieristico"},{value:"FAR",text:"Farmacista"},{value:"DSA",text:"Direttore sanitario"},{value:"DAM",text:"Direttore amministrativo"},{value:"OAM",text:"Operatore amministrativo"},{value:"ASS",text:"Assistito"},{value:"TUT",text:"Tutore"},{value:"ING",text:"Informal giver (Assistito)"},{value:"GEN",text:"Genitore Assistito"},{value:"NOR",text:"Nodo regionale"},{value:"DRS",text:"Dirigente sanitario"},{value:"RSA",text:"Medico RSA"},{value:"MRP",text:"Medico Rete di Patologia"},{value:"INI",text:"Infrastruttura Nazionale per l’Interoperabilità"},{value:"OGC",text:"Operatore per la gestione dei consensi"},{value:"OPI",text:"Operatore di informativa"},{value:"MDS",text:"Ruolo del Ministero della Salute per la gestione del DGC"}],Bt=[{value:"TREATMENT",text:"Trattamento di cura ordinario"},{value:"EMERGENCY",text:"Trattamento in emergenza"},{value:"PUBEMERGENCY",text:"Trattamento per la salvaguardia di un terzo o della collettività"},{value:"SYSADMIN",text:"Trasferimento del FSE"},{value:"PERSONAL",text:"Consultazione del FSE"},{value:"UPDATE",text:"Invalidamento e aggiornamento di un documento"},{value:"CONSENT",text:"Comunicazione valori consensi"},{value:"ADMINISTRATIVE",text:"Operazioni amministrative"}],Jt=[{value:"CREATE",text:"CREATE"},{value:"UPDATE",text:"UPDATE"},{value:"DELETE",text:"DELETE"},{value:"REPLACE",text:"REPLACE"}],Gt=[{value:"010",text:"Regione Piemonte"},{value:"020",text:"Regione Valle dAosta"},{value:"030",text:"Regione Lombardia"},{value:"041",text:"P.A. Bolzano"},{value:"042",text:"P.A. Trento"},{value:"050",text:"Regione Veneto"},{value:"060",text:"Regione Friuli Venezia Giulia"},{value:"070",text:"Regione Liguria"},{value:"080",text:"Regione Emilia-Romagna"},{value:"090",text:"Regione Toscana"},{value:"100",text:"Regione Umbria"},{value:"110",text:"Regione Marche"},{value:"120",text:"Regione Lazio"},{value:"130",text:"Regione Abruzzo"},{value:"140",text:"Regione Molise"},{value:"150",text:"Regione Campania"},{value:"160",text:"Regione Puglia"},{value:"170",text:"Regione Basilicata"},{value:"180",text:"Regione Calabria"},{value:"190",text:"Regione Sicilia"},{value:"200",text:"Regione Sardegna"},{value:"000",text:"INI"},{value:"001",text:"SASN"},{value:"999",text:"MDS"}],St=crypto,dr=t=>t instanceof CryptoKey,st=new TextEncoder,Wt=new TextDecoder;function wr(...t){const e=t.reduce((n,{length:_})=>n+_,0),r=new Uint8Array(e);let o=0;return t.forEach(n=>{r.set(n,o),o+=n.length}),r}const Ar=t=>{let e=t;typeof e=="string"&&(e=st.encode(e));const r=32768,o=[];for(let n=0;n<e.length;n+=r)o.push(String.fromCharCode.apply(null,e.subarray(n,n+r)));return btoa(o.join(""))},mt=t=>Ar(t).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_");class gt extends Error{static get code(){return"ERR_JOSE_GENERIC"}constructor(e){var r;super(e),this.code="ERR_JOSE_GENERIC",this.name=this.constructor.name,(r=Error.captureStackTrace)===null||r===void 0||r.call(Error,this,this.constructor)}}class pt extends gt{constructor(){super(...arguments),this.code="ERR_JOSE_NOT_SUPPORTED"}static get code(){return"ERR_JOSE_NOT_SUPPORTED"}}class ut extends gt{constructor(){super(...arguments),this.code="ERR_JWS_INVALID"}static get code(){return"ERR_JWS_INVALID"}}class Pr extends gt{constructor(){super(...arguments),this.code="ERR_JWT_INVALID"}static get code(){return"ERR_JWT_INVALID"}}function Fe(t,e="algorithm.name"){return new TypeError(`CryptoKey does not support this operation, its ${e} must be ${t}`)}function dt(t,e){return t.name===e}function bt(t){return parseInt(t.name.slice(4),10)}function Tr(t){switch(t){case"ES256":return"P-256";case"ES384":return"P-384";case"ES512":return"P-521";default:throw new Error("unreachable")}}function Rr(t,e){if(e.length&&!e.some(r=>t.usages.includes(r))){let r="CryptoKey does not support this operation, its usages must include ";if(e.length>2){const o=e.pop();r+=`one of ${e.join(", ")}, or ${o}.`}else e.length===2?r+=`one of ${e[0]} or ${e[1]}.`:r+=`${e[0]}.`;throw new TypeError(r)}}function Ir(t,e,...r){switch(e){case"HS256":case"HS384":case"HS512":{if(!dt(t.algorithm,"HMAC"))throw Fe("HMAC");const o=parseInt(e.slice(2),10);if(bt(t.algorithm.hash)!==o)throw Fe(`SHA-${o}`,"algorithm.hash");break}case"RS256":case"RS384":case"RS512":{if(!dt(t.algorithm,"RSASSA-PKCS1-v1_5"))throw Fe("RSASSA-PKCS1-v1_5");const o=parseInt(e.slice(2),10);if(bt(t.algorithm.hash)!==o)throw Fe(`SHA-${o}`,"algorithm.hash");break}case"PS256":case"PS384":case"PS512":{if(!dt(t.algorithm,"RSA-PSS"))throw Fe("RSA-PSS");const o=parseInt(e.slice(2),10);if(bt(t.algorithm.hash)!==o)throw Fe(`SHA-${o}`,"algorithm.hash");break}case"EdDSA":{if(t.algorithm.name!=="Ed25519"&&t.algorithm.name!=="Ed448")throw Fe("Ed25519 or Ed448");break}case"ES256":case"ES384":case"ES512":{if(!dt(t.algorithm,"ECDSA"))throw Fe("ECDSA");const o=Tr(e);if(t.algorithm.namedCurve!==o)throw Fe(o,"algorithm.namedCurve");break}default:throw new TypeError("CryptoKey does not support this operation")}Rr(t,r)}function pr(t,e,...r){if(r.length>2){const o=r.pop();t+=`one of type ${r.join(", ")}, or ${o}.`}else r.length===2?t+=`one of type ${r[0]} or ${r[1]}.`:t+=`of type ${r[0]}.`;return e==null?t+=` Received ${e}`:typeof e=="function"&&e.name?t+=` Received function ${e.name}`:typeof e=="object"&&e!=null&&e.constructor&&e.constructor.name&&(t+=` Received an instance of ${e.constructor.name}`),t}const Ft=(t,...e)=>pr("Key must be ",t,...e);function hr(t,e,...r){return pr(`Key for the ${t} algorithm must be `,e,...r)}const _r=t=>dr(t),Je=["CryptoKey"],Cr=(...t)=>{const e=t.filter(Boolean);if(e.length===0||e.length===1)return!0;let r;for(const o of e){const n=Object.keys(o);if(!r||r.size===0){r=new Set(n);continue}for(const _ of n){if(r.has(_))return!1;r.add(_)}}return!0};function Or(t){return typeof t=="object"&&t!==null}function jr(t){if(!Or(t)||Object.prototype.toString.call(t)!=="[object Object]")return!1;if(Object.getPrototypeOf(t)===null)return!0;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}const Nr=(t,e)=>{if(t.startsWith("RS")||t.startsWith("PS")){const{modulusLength:r}=e.algorithm;if(typeof r!="number"||r<2048)throw new TypeError(`${t} requires key modulusLength to be 2048 bits or larger`)}},rt=(t,e,r=0)=>{r===0&&(e.unshift(e.length),e.unshift(6));let o=t.indexOf(e[0],r);if(o===-1)return!1;const n=t.subarray(o,o+e.length);return n.length!==e.length?!1:n.every((_,p)=>_===e[p])||rt(t,e,o+1)},Xt=t=>{switch(!0){case rt(t,[42,134,72,206,61,3,1,7]):return"P-256";case rt(t,[43,129,4,0,34]):return"P-384";case rt(t,[43,129,4,0,35]):return"P-521";case rt(t,[43,101,110]):return"X25519";case rt(t,[43,101,111]):return"X448";case rt(t,[43,101,112]):return"Ed25519";case rt(t,[43,101,113]):return"Ed448";default:throw new pt("Invalid or unsupported EC Key Curve or OKP Key Sub Type")}},Lr=async(t,e,r,o,n)=>{var _;let p,u;const c=new Uint8Array(atob(r.replace(t,"")).split("").map(C=>C.charCodeAt(0))),v=e==="spki";switch(o){case"PS256":case"PS384":case"PS512":p={name:"RSA-PSS",hash:`SHA-${o.slice(-3)}`},u=v?["verify"]:["sign"];break;case"RS256":case"RS384":case"RS512":p={name:"RSASSA-PKCS1-v1_5",hash:`SHA-${o.slice(-3)}`},u=v?["verify"]:["sign"];break;case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":p={name:"RSA-OAEP",hash:`SHA-${parseInt(o.slice(-3),10)||1}`},u=v?["encrypt","wrapKey"]:["decrypt","unwrapKey"];break;case"ES256":p={name:"ECDSA",namedCurve:"P-256"},u=v?["verify"]:["sign"];break;case"ES384":p={name:"ECDSA",namedCurve:"P-384"},u=v?["verify"]:["sign"];break;case"ES512":p={name:"ECDSA",namedCurve:"P-521"},u=v?["verify"]:["sign"];break;case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":{const C=Xt(c);p=C.startsWith("P-")?{name:"ECDH",namedCurve:C}:{name:C},u=v?[]:["deriveBits"];break}case"EdDSA":p={name:Xt(c)},u=v?["verify"]:["sign"];break;default:throw new pt('Invalid or unsupported "alg" (Algorithm) value')}return St.subtle.importKey(e,c,p,(_=n==null?void 0:n.extractable)!==null&&_!==void 0?_:!1,u)},Hr=(t,e,r)=>Lr(/(?:-----(?:BEGIN|END) PRIVATE KEY-----|\s)/g,"pkcs8",t,e,r);async function Yt(t,e,r){if(typeof t!="string"||t.indexOf("-----BEGIN PRIVATE KEY-----")!==0)throw new TypeError('"pkcs8" must be PKCS#8 formatted string');return Hr(t,e,r)}const Dr=(t,e)=>{if(!(e instanceof Uint8Array)){if(!_r(e))throw new TypeError(hr(t,e,...Je,"Uint8Array"));if(e.type!=="secret")throw new TypeError(`${Je.join(" or ")} instances for symmetric algorithms must be of type "secret"`)}},Ur=(t,e,r)=>{if(!_r(e))throw new TypeError(hr(t,e,...Je));if(e.type==="secret")throw new TypeError(`${Je.join(" or ")} instances for asymmetric algorithms must not be of type "secret"`);if(r==="sign"&&e.type==="public")throw new TypeError(`${Je.join(" or ")} instances for asymmetric algorithm signing must be of type "private"`);if(r==="decrypt"&&e.type==="public")throw new TypeError(`${Je.join(" or ")} instances for asymmetric algorithm decryption must be of type "private"`);if(e.algorithm&&r==="verify"&&e.type==="private")throw new TypeError(`${Je.join(" or ")} instances for asymmetric algorithm verifying must be of type "public"`);if(e.algorithm&&r==="encrypt"&&e.type==="private")throw new TypeError(`${Je.join(" or ")} instances for asymmetric algorithm encryption must be of type "public"`)},zr=(t,e,r)=>{t.startsWith("HS")||t==="dir"||t.startsWith("PBES2")||/^A\d{3}(?:GCM)?KW$/.test(t)?Dr(t,e):Ur(t,e,r)};function Vr(t,e,r,o,n){if(n.crit!==void 0&&o.crit===void 0)throw new t('"crit" (Critical) Header Parameter MUST be integrity protected');if(!o||o.crit===void 0)return new Set;if(!Array.isArray(o.crit)||o.crit.length===0||o.crit.some(p=>typeof p!="string"||p.length===0))throw new t('"crit" (Critical) Header Parameter MUST be an array of non-empty strings when present');let _;r!==void 0?_=new Map([...Object.entries(r),...e.entries()]):_=e;for(const p of o.crit){if(!_.has(p))throw new pt(`Extension Header Parameter "${p}" is not recognized`);if(n[p]===void 0)throw new t(`Extension Header Parameter "${p}" is missing`);if(_.get(p)&&o[p]===void 0)throw new t(`Extension Header Parameter "${p}" MUST be integrity protected`)}return new Set(o.crit)}function kr(t,e){const r=`SHA-${t.slice(-3)}`;switch(t){case"HS256":case"HS384":case"HS512":return{hash:r,name:"HMAC"};case"PS256":case"PS384":case"PS512":return{hash:r,name:"RSA-PSS",saltLength:t.slice(-3)>>3};case"RS256":case"RS384":case"RS512":return{hash:r,name:"RSASSA-PKCS1-v1_5"};case"ES256":case"ES384":case"ES512":return{hash:r,name:"ECDSA",namedCurve:e.namedCurve};case"EdDSA":return{name:e.name};default:throw new pt(`alg ${t} is not supported either by JOSE or your javascript runtime`)}}function Kr(t,e,r){if(dr(e))return Ir(e,t,r),e;if(e instanceof Uint8Array){if(!t.startsWith("HS"))throw new TypeError(Ft(e,...Je));return St.subtle.importKey("raw",e,{hash:`SHA-${t.slice(-3)}`,name:"HMAC"},!1,[r])}throw new TypeError(Ft(e,...Je,"Uint8Array"))}const Et=t=>Math.floor(t.getTime()/1e3),vr=60,mr=vr*60,wt=mr*24,Mr=wt*7,xr=wt*365.25,Br=/^(\d+|\d+\.\d+) ?(seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)$/i,qt=t=>{const e=Br.exec(t);if(!e)throw new TypeError("Invalid time period format");const r=parseFloat(e[1]);switch(e[2].toLowerCase()){case"sec":case"secs":case"second":case"seconds":case"s":return Math.round(r);case"minute":case"minutes":case"min":case"mins":case"m":return Math.round(r*vr);case"hour":case"hours":case"hr":case"hrs":case"h":return Math.round(r*mr);case"day":case"days":case"d":return Math.round(r*wt);case"week":case"weeks":case"w":return Math.round(r*Mr);default:return Math.round(r*xr)}},Jr=async(t,e,r)=>{const o=await Kr(t,e,"sign");Nr(t,o);const n=await St.subtle.sign(kr(t,o.algorithm),o,r);return new Uint8Array(n)};class Gr{constructor(e){if(!(e instanceof Uint8Array))throw new TypeError("payload must be an instance of Uint8Array");this._payload=e}setProtectedHeader(e){if(this._protectedHeader)throw new TypeError("setProtectedHeader can only be called once");return this._protectedHeader=e,this}setUnprotectedHeader(e){if(this._unprotectedHeader)throw new TypeError("setUnprotectedHeader can only be called once");return this._unprotectedHeader=e,this}async sign(e,r){if(!this._protectedHeader&&!this._unprotectedHeader)throw new ut("either setProtectedHeader or setUnprotectedHeader must be called before #sign()");if(!Cr(this._protectedHeader,this._unprotectedHeader))throw new ut("JWS Protected and JWS Unprotected Header Parameter names must be disjoint");const o={...this._protectedHeader,...this._unprotectedHeader},n=Vr(ut,new Map([["b64",!0]]),r==null?void 0:r.crit,this._protectedHeader,o);let _=!0;if(n.has("b64")&&(_=this._protectedHeader.b64,typeof _!="boolean"))throw new ut('The "b64" (base64url-encode payload) Header Parameter must be a boolean');const{alg:p}=o;if(typeof p!="string"||!p)throw new ut('JWS "alg" (Algorithm) Header Parameter missing or invalid');zr(p,e,"sign");let u=this._payload;_&&(u=st.encode(mt(u)));let c;this._protectedHeader?c=st.encode(mt(JSON.stringify(this._protectedHeader))):c=st.encode("");const v=wr(c,st.encode("."),u),C=await Jr(p,e,v),O={signature:mt(C),payload:""};return _&&(O.payload=Wt.decode(u)),this._unprotectedHeader&&(O.header=this._unprotectedHeader),this._protectedHeader&&(O.protected=Wt.decode(c)),O}}class Wr{constructor(e){this._flattened=new Gr(e)}setProtectedHeader(e){return this._flattened.setProtectedHeader(e),this}async sign(e,r){const o=await this._flattened.sign(e,r);if(o.payload===void 0)throw new TypeError("use the flattened module for creating JWS with b64: false");return`${o.protected}.${o.payload}.${o.signature}`}}class Fr{constructor(e){if(!jr(e))throw new TypeError("JWT Claims Set MUST be an object");this._payload=e}setIssuer(e){return this._payload={...this._payload,iss:e},this}setSubject(e){return this._payload={...this._payload,sub:e},this}setAudience(e){return this._payload={...this._payload,aud:e},this}setJti(e){return this._payload={...this._payload,jti:e},this}setNotBefore(e){return typeof e=="number"?this._payload={...this._payload,nbf:e}:this._payload={...this._payload,nbf:Et(new Date)+qt(e)},this}setExpirationTime(e){return typeof e=="number"?this._payload={...this._payload,exp:e}:this._payload={...this._payload,exp:Et(new Date)+qt(e)},this}setIssuedAt(e){return typeof e>"u"?this._payload={...this._payload,iat:Et(new Date)}:this._payload={...this._payload,iat:e},this}}class Qt extends Fr{setProtectedHeader(e){return this._protectedHeader=e,this}async sign(e,r){var o;const n=new Wr(st.encode(JSON.stringify(this._payload)));if(n.setProtectedHeader(this._protectedHeader),Array.isArray((o=this._protectedHeader)===null||o===void 0?void 0:o.crit)&&this._protectedHeader.crit.includes("b64")&&this._protectedHeader.b64===!1)throw new Pr("JWTs MUST NOT use unencoded payload");return n.sign(e,r)}}function Zt(t,e,r){const o=t.slice();return o[74]=e[r].value,o[75]=e[r].text,o}function $t(t,e,r){const o=t.slice();return o[74]=e[r].value,o[75]=e[r].text,o}function er(t,e,r){const o=t.slice();return o[74]=e[r].value,o[75]=e[r].text,o[80]=e[r].organization,o[81]=e[r].organization_id,o}function tr(t,e,r){const o=t.slice();return o[74]=e[r].value,o[75]=e[r].text,o}function rr(t){let e,r,o,n,_,p,u,c,v;return{c(){e=f("div"),r=f("div"),o=f("div"),n=S(),_=f("div"),p=S(),u=f("div"),c=S(),v=f("div"),this.h()},l(C){e=d(C,"DIV",{class:!0});var O=E(e);r=d(O,"DIV",{class:!0});var D=E(r);o=d(D,"DIV",{}),E(o).forEach(i),n=g(D),_=d(D,"DIV",{}),E(_).forEach(i),p=g(D),u=d(D,"DIV",{}),E(u).forEach(i),c=g(D),v=d(D,"DIV",{}),E(v).forEach(i),D.forEach(i),O.forEach(i),this.h()},h(){s(r,"class","spin"),s(e,"class","overflow-hidden w-full h-full absolute bg-gray-800/40 p-0 z-50 grid items-center content-center")},m(C,O){b(C,e,O),a(e,r),a(r,o),a(r,n),a(r,_),a(r,p),a(r,u),a(r,c),a(r,v)},d(C){C&&i(e)}}}function lr(t){let e,r,o,n,_,p,u,c,v,C,O,D,L,I,x,le,y,j,U,W,Y,Me,B,z,we,ue,fe,Ae,J,q,F,Te,ie,Z,Ee,Re,Ue,P,oe,ze,Ie,Ce,xe,ae,$,de,Oe,Be,ye,se,Xe,Se=xt,ee=[];for(let l=0;l<Se.length;l+=1)ee[l]=or(tr(t,Se,l));let je=Gt,H=[];for(let l=0;l<je.length;l+=1)H[l]=nr(er(t,je,l));let Ne=Jt,G=[];for(let l=0;l<Ne.length;l+=1)G[l]=ir($t(t,Ne,l));let Le=Bt,te=[];for(let l=0;l<Le.length;l+=1)te[l]=ar(Zt(t,Le,l));return{c(){e=f("label"),r=w("Subject Role"),o=S(),n=f("select");for(let l=0;l<ee.length;l+=1)ee[l].c();_=S(),p=f("label"),u=w("Locality"),c=S(),v=f("input"),C=S(),O=f("label"),D=w("Subject application vendor"),L=S(),I=f("input"),x=S(),le=f("label"),y=w("Subject application id"),j=S(),U=f("input"),W=S(),Y=f("label"),Me=w("Subject application version"),B=S(),z=f("input"),we=S(),ue=f("label"),fe=w("Patient consent"),Ae=S(),J=f("input"),q=S(),F=f("label"),Te=w("Subject organization"),ie=S(),Z=f("select");for(let l=0;l<H.length;l+=1)H[l].c();Ee=S(),Re=f("label"),Ue=w("Action id"),P=S(),oe=f("select");for(let l=0;l<G.length;l+=1)G[l].c();ze=S(),Ie=f("label"),Ce=w("Purpose of use"),xe=S(),ae=f("select");for(let l=0;l<te.length;l+=1)te[l].c();$=S(),de=f("label"),Oe=w("pdf"),Be=S(),ye=f("input"),this.h()},l(l){e=d(l,"LABEL",{for:!0});var m=E(e);r=A(m,"Subject Role"),m.forEach(i),o=g(l),n=d(l,"SELECT",{class:!0});var h=E(n);for(let R=0;R<ee.length;R+=1)ee[R].l(h);h.forEach(i),_=g(l),p=d(l,"LABEL",{for:!0});var ne=E(p);u=A(ne,"Locality"),ne.forEach(i),c=g(l),v=d(l,"INPUT",{type:!0,id:!0,style:!0,class:!0}),C=g(l),O=d(l,"LABEL",{for:!0});var Ge=E(O);D=A(Ge,"Subject application vendor"),Ge.forEach(i),L=g(l),I=d(l,"INPUT",{type:!0,id:!0,style:!0,class:!0}),x=g(l),le=d(l,"LABEL",{for:!0});var We=E(le);y=A(We,"Subject application id"),We.forEach(i),j=g(l),U=d(l,"INPUT",{type:!0,id:!0,style:!0,class:!0}),W=g(l),Y=d(l,"LABEL",{for:!0});var Ye=E(Y);Me=A(Ye,"Subject application version"),Ye.forEach(i),B=g(l),z=d(l,"INPUT",{type:!0,id:!0,style:!0,class:!0}),we=g(l),ue=d(l,"LABEL",{for:!0});var Ve=E(ue);fe=A(Ve,"Patient consent"),Ve.forEach(i),Ae=g(l),J=d(l,"INPUT",{type:!0,id:!0,class:!0}),q=g(l),F=d(l,"LABEL",{for:!0});var He=E(F);Te=A(He,"Subject organization"),He.forEach(i),ie=g(l),Z=d(l,"SELECT",{class:!0});var qe=E(Z);for(let R=0;R<H.length;R+=1)H[R].l(qe);qe.forEach(i),Ee=g(l),Re=d(l,"LABEL",{for:!0});var Qe=E(Re);Ue=A(Qe,"Action id"),Qe.forEach(i),P=g(l),oe=d(l,"SELECT",{class:!0});var ce=E(oe);for(let R=0;R<G.length;R+=1)G[R].l(ce);ce.forEach(i),ze=g(l),Ie=d(l,"LABEL",{for:!0});var ke=E(Ie);Ce=A(ke,"Purpose of use"),ke.forEach(i),xe=g(l),ae=d(l,"SELECT",{class:!0});var Ze=E(ae);for(let R=0;R<te.length;R+=1)te[R].l(Ze);Ze.forEach(i),$=g(l),de=d(l,"LABEL",{for:!0});var N=E(de);Oe=A(N,"pdf"),N.forEach(i),Be=g(l),ye=d(l,"INPUT",{id:!0,type:!0,accept:!0,class:!0}),this.h()},h(){s(e,"for","subject_role_enum"),s(n,"class","w-full py-2 px-4 mb-4 rounded-md border border-gray-300"),t[3]===void 0&&at(()=>t[44].call(n)),s(p,"for","locality"),s(v,"type","text"),s(v,"id","locality"),re(v,"border-color",t[26]?"black":"red"),s(v,"class","svelte-1jnzdco"),s(O,"for","subject_application_vendor"),s(I,"type","text"),s(I,"id","subject_application_vendor"),re(I,"border-color",t[24]?"black":"red"),s(I,"class","svelte-1jnzdco"),s(le,"for","subject_application_id"),s(U,"type","text"),s(U,"id","subject_application_id"),re(U,"border-color",t[25]?"black":"red"),s(U,"class","svelte-1jnzdco"),s(Y,"for","subject_application_version"),s(z,"type","text"),s(z,"id","subject_application_version"),re(z,"border-color",t[23]?"black":"red"),s(z,"class","svelte-1jnzdco"),s(ue,"for","patient_consent"),s(J,"type","checkbox"),s(J,"id","patient_consent"),s(J,"class","svelte-1jnzdco"),s(F,"for","subject_organization"),s(Z,"class","w-full py-2 px-4 mb-4 rounded-md border border-gray-300"),t[0]===void 0&&at(()=>t[50].call(Z)),s(Re,"for","action_id_enum"),s(oe,"class","w-full py-2 px-4 mb-4 rounded-md border border-gray-300"),t[1]===void 0&&at(()=>t[51].call(oe)),s(Ie,"for","purpose_of_use_enum"),s(ae,"class","w-full py-2 px-4 mb-4 rounded-md border border-gray-300"),t[2]===void 0&&at(()=>t[52].call(ae)),s(de,"for","pdf"),s(ye,"id","pdf"),s(ye,"type","file"),s(ye,"accept","application/pdf"),s(ye,"class","w-full py-2 px-4 mb-4 rounded-md border border-gray-300")},m(l,m){b(l,e,m),a(e,r),b(l,o,m),b(l,n,m);for(let h=0;h<ee.length;h+=1)ee[h].m(n,null);De(n,t[3]),b(l,_,m),b(l,p,m),a(p,u),b(l,c,m),b(l,v,m),k(v,t[8]),b(l,C,m),b(l,O,m),a(O,D),b(l,L,m),b(l,I,m),k(I,t[10]),b(l,x,m),b(l,le,m),a(le,y),b(l,j,m),b(l,U,m),k(U,t[9]),b(l,W,m),b(l,Y,m),a(Y,Me),b(l,B,m),b(l,z,m),k(z,t[11]),b(l,we,m),b(l,ue,m),a(ue,fe),b(l,Ae,m),b(l,J,m),k(J,t[13]),b(l,q,m),b(l,F,m),a(F,Te),b(l,ie,m),b(l,Z,m);for(let h=0;h<H.length;h+=1)H[h].m(Z,null);De(Z,t[0]),b(l,Ee,m),b(l,Re,m),a(Re,Ue),b(l,P,m),b(l,oe,m);for(let h=0;h<G.length;h+=1)G[h].m(oe,null);De(oe,t[1]),b(l,ze,m),b(l,Ie,m),a(Ie,Ce),b(l,xe,m),b(l,ae,m);for(let h=0;h<te.length;h+=1)te[h].m(ae,null);De(ae,t[2]),b(l,$,m),b(l,de,m),a(de,Oe),b(l,Be,m),b(l,ye,m),se||(Xe=[K(n,"change",t[44]),K(v,"input",t[45]),K(I,"input",t[46]),K(U,"input",t[47]),K(z,"input",t[48]),K(J,"change",t[49]),K(Z,"change",t[50]),K(oe,"change",t[51]),K(ae,"change",t[52]),K(ye,"change",t[33])],se=!0)},p(l,m){if(m&0){Se=xt;let h;for(h=0;h<Se.length;h+=1){const ne=tr(l,Se,h);ee[h]?ee[h].p(ne,m):(ee[h]=or(ne),ee[h].c(),ee[h].m(n,null))}for(;h<ee.length;h+=1)ee[h].d(1);ee.length=Se.length}if(m[0]&8&&De(n,l[3]),m[0]&67108864&&re(v,"border-color",l[26]?"black":"red"),m[0]&256&&v.value!==l[8]&&k(v,l[8]),m[0]&16777216&&re(I,"border-color",l[24]?"black":"red"),m[0]&1024&&I.value!==l[10]&&k(I,l[10]),m[0]&33554432&&re(U,"border-color",l[25]?"black":"red"),m[0]&512&&U.value!==l[9]&&k(U,l[9]),m[0]&8388608&&re(z,"border-color",l[23]?"black":"red"),m[0]&2048&&z.value!==l[11]&&k(z,l[11]),m[0]&8192&&k(J,l[13]),m&0){je=Gt;let h;for(h=0;h<je.length;h+=1){const ne=er(l,je,h);H[h]?H[h].p(ne,m):(H[h]=nr(ne),H[h].c(),H[h].m(Z,null))}for(;h<H.length;h+=1)H[h].d(1);H.length=je.length}if(m[0]&1&&De(Z,l[0]),m&0){Ne=Jt;let h;for(h=0;h<Ne.length;h+=1){const ne=$t(l,Ne,h);G[h]?G[h].p(ne,m):(G[h]=ir(ne),G[h].c(),G[h].m(oe,null))}for(;h<G.length;h+=1)G[h].d(1);G.length=Ne.length}if(m[0]&2&&De(oe,l[1]),m&0){Le=Bt;let h;for(h=0;h<Le.length;h+=1){const ne=Zt(l,Le,h);te[h]?te[h].p(ne,m):(te[h]=ar(ne),te[h].c(),te[h].m(ae,null))}for(;h<te.length;h+=1)te[h].d(1);te.length=Le.length}m[0]&4&&De(ae,l[2])},d(l){l&&i(e),l&&i(o),l&&i(n),ft(ee,l),l&&i(_),l&&i(p),l&&i(c),l&&i(v),l&&i(C),l&&i(O),l&&i(L),l&&i(I),l&&i(x),l&&i(le),l&&i(j),l&&i(U),l&&i(W),l&&i(Y),l&&i(B),l&&i(z),l&&i(we),l&&i(ue),l&&i(Ae),l&&i(J),l&&i(q),l&&i(F),l&&i(ie),l&&i(Z),ft(H,l),l&&i(Ee),l&&i(Re),l&&i(P),l&&i(oe),ft(G,l),l&&i(ze),l&&i(Ie),l&&i(xe),l&&i(ae),ft(te,l),l&&i($),l&&i(de),l&&i(Be),l&&i(ye),se=!1,yt(Xe)}}}function or(t){let e,r=t[74]+"",o,n,_=t[75]+"",p;return{c(){e=f("option"),o=w(r),n=w(" - "),p=w(_),this.h()},l(u){e=d(u,"OPTION",{});var c=E(e);o=A(c,r),n=A(c," - "),p=A(c,_),c.forEach(i),this.h()},h(){e.__value=t[74],e.value=e.__value},m(u,c){b(u,e,c),a(e,o),a(e,n),a(e,p)},p:lt,d(u){u&&i(e)}}}function nr(t){let e,r=t[74]+"",o,n,_=t[75]+"",p;return{c(){e=f("option"),o=w(r),n=w(" - "),p=w(_),this.h()},l(u){e=d(u,"OPTION",{});var c=E(e);o=A(c,r),n=A(c," - "),p=A(c,_),c.forEach(i),this.h()},h(){e.__value={organization_id:t[81],organization:t[80]},e.value=e.__value},m(u,c){b(u,e,c),a(e,o),a(e,n),a(e,p)},p:lt,d(u){u&&i(e)}}}function ir(t){let e,r=t[75]+"",o;return{c(){e=f("option"),o=w(r),this.h()},l(n){e=d(n,"OPTION",{});var _=E(e);o=A(_,r),_.forEach(i),this.h()},h(){e.__value=t[74],e.value=e.__value},m(n,_){b(n,e,_),a(e,o)},p:lt,d(n){n&&i(e)}}}function ar(t){let e,r=t[74]+"",o,n,_=t[75]+"",p;return{c(){e=f("option"),o=w(r),n=w(" - "),p=w(_),this.h()},l(u){e=d(u,"OPTION",{});var c=E(e);o=A(c,r),n=A(c," - "),p=A(c,_),c.forEach(i),this.h()},h(){e.__value=t[74],e.value=e.__value},m(u,c){b(u,e,c),a(e,o),a(e,n),a(e,p)},p:lt,d(u){u&&i(e)}}}function sr(t){let e,r,o,n,_,p,u,c,v,C,O,D,L,I,x,le;return{c(){e=f("label"),r=w("oid"),o=S(),n=f("input"),_=S(),p=f("label"),u=w("version"),c=S(),v=f("input"),C=S(),O=f("label"),D=w("File"),L=S(),I=f("input"),this.h()},l(y){e=d(y,"LABEL",{for:!0});var j=E(e);r=A(j,"oid"),j.forEach(i),o=g(y),n=d(y,"INPUT",{type:!0,style:!0,id:!0,class:!0}),_=g(y),p=d(y,"LABEL",{for:!0});var U=E(p);u=A(U,"version"),U.forEach(i),c=g(y),v=d(y,"INPUT",{type:!0,style:!0,id:!0,class:!0}),C=g(y),O=d(y,"LABEL",{for:!0});var W=E(O);D=A(W,"File"),W.forEach(i),L=g(y),I=d(y,"INPUT",{id:!0,type:!0,accept:!0,class:!0}),this.h()},h(){s(e,"for","oid"),s(n,"type","text"),re(n,"border-color",t[22]?"black":"red"),s(n,"id","oid"),s(n,"class","svelte-1jnzdco"),s(p,"for","version"),s(v,"type","text"),re(v,"border-color",t[21]?"black":"red"),s(v,"id","version"),s(v,"class","svelte-1jnzdco"),s(O,"for","file_terminology"),s(I,"id","file_terminology"),s(I,"type","file"),s(I,"accept","*/*"),s(I,"class","w-full py-2 px-4 mb-4 rounded-md border border-gray-300")},m(y,j){b(y,e,j),a(e,r),b(y,o,j),b(y,n,j),k(n,t[15]),b(y,_,j),b(y,p,j),a(p,u),b(y,c,j),b(y,v,j),k(v,t[16]),b(y,C,j),b(y,O,j),a(O,D),b(y,L,j),b(y,I,j),x||(le=[K(n,"input",t[53]),K(v,"input",t[54]),K(I,"change",t[34])],x=!0)},p(y,j){j[0]&4194304&&re(n,"border-color",y[22]?"black":"red"),j[0]&32768&&n.value!==y[15]&&k(n,y[15]),j[0]&2097152&&re(v,"border-color",y[21]?"black":"red"),j[0]&65536&&v.value!==y[16]&&k(v,y[16])},d(y){y&&i(e),y&&i(o),y&&i(n),y&&i(_),y&&i(p),y&&i(c),y&&i(v),y&&i(C),y&&i(O),y&&i(L),y&&i(I),x=!1,yt(le)}}}function ur(t){let e,r,o,n,_,p,u,c,v,C,O,D;return{c(){e=f("span"),r=w("Operazione"),o=S(),n=f("select"),_=f("option"),p=w("Creazione"),u=f("option"),c=w("Rinnovo"),v=f("option"),C=w("Revoca"),this.h()},l(L){e=d(L,"SPAN",{class:!0});var I=E(e);r=A(I,"Operazione"),I.forEach(i),o=g(L),n=d(L,"SELECT",{class:!0});var x=E(n);_=d(x,"OPTION",{});var le=E(_);p=A(le,"Creazione"),le.forEach(i),u=d(x,"OPTION",{});var y=E(u);c=A(y,"Rinnovo"),y.forEach(i),v=d(x,"OPTION",{});var j=E(v);C=A(j,"Revoca"),j.forEach(i),x.forEach(i),this.h()},h(){s(e,"class","col-span-1 flex items-center"),_.__value="Creazione",_.value=_.__value,u.__value="Rinnovo",u.value=u.__value,v.__value="Revoca",v.value=v.__value,s(n,"class","w-full py-2 px-4 mb-4 rounded-md border border-gray-300"),t[5]===void 0&&at(()=>t[55].call(n))},m(L,I){b(L,e,I),a(e,r),b(L,o,I),b(L,n,I),a(n,_),a(_,p),a(n,u),a(u,c),a(n,v),a(v,C),De(n,t[5]),O||(D=K(n,"change",t[55]),O=!0)},p(L,I){I[0]&32&&De(n,L[5])},d(L){L&&i(e),L&&i(o),L&&i(n),O=!1,D()}}}function cr(t){let e,r,o,n,_,p;return{c(){e=f("label"),r=w("CSR"),o=S(),n=f("input"),this.h()},l(u){e=d(u,"LABEL",{for:!0});var c=E(e);r=A(c,"CSR"),c.forEach(i),o=g(u),n=d(u,"INPUT",{id:!0,type:!0,accept:!0,class:!0}),this.h()},h(){s(e,"for","file_csr"),s(n,"id","file_csr"),n.multiple=!0,s(n,"type","file"),s(n,"accept","*/*"),s(n,"class","w-full py-2 px-4 mb-4 rounded-md border border-gray-300")},m(u,c){b(u,e,c),a(e,r),b(u,o,c),b(u,n,c),_||(p=K(n,"change",t[35]),_=!0)},p:lt,d(u){u&&i(e),u&&i(o),u&&i(n),_=!1,p()}}}function fr(t){let e,r,o,n,_,p;return{c(){e=f("label"),r=w("uuid"),o=S(),n=f("input"),this.h()},l(u){e=d(u,"LABEL",{for:!0});var c=E(e);r=A(c,"uuid"),c.forEach(i),o=g(u),n=d(u,"INPUT",{type:!0,id:!0,style:!0,class:!0}),this.h()},h(){s(e,"for","uuid_to_revoke"),s(n,"type","text"),s(n,"id","uuid_to_revoke"),re(n,"border-color",t[31]?"black":"red"),s(n,"class","svelte-1jnzdco")},m(u,c){b(u,e,c),a(e,r),b(u,o,c),b(u,n,c),k(n,t[17]),_||(p=K(n,"input",t[56]),_=!0)},p(u,c){c[1]&1&&re(n,"border-color",u[31]?"black":"red"),c[0]&131072&&n.value!==u[17]&&k(n,u[17])},d(u){u&&i(e),u&&i(o),u&&i(n),_=!1,p()}}}function Xr(t){let e,r,o,n,_,p,u,c,v,C,O,D,L,I,x,le,y,j,U,W,Y,Me,B,z,we,ue,fe,Ae,J,q,F,Te,ie,Z,Ee,Re,Ue,P,oe,ze,Ie,Ce,xe,ae,$,de,Oe,Be,ye,se,Xe,Se,ee,je,H,Ne,G,Le,te,l,m,h,ne,Ge,We,Ye,Ve,He,qe,Qe,ce,ke,Ze,N,R,X,M,Ke,Pe,pe,ht,At,ge=t[20]&&rr(),he=t[4]=="Gateway"&&lr(t),_e=t[4]=="Terminology"&&sr(t),ve=t[4]==="Provisioning"&&ur(t),me=t[4]==="Provisioning"&&(t[5]==="Creazione"||t[5]==="Rinnovo")&&cr(t),be=t[4]==="Provisioning"&&t[5]==="Revoca"&&fr(t);return{c(){e=f("div"),ge&&ge.c(),r=S(),o=f("div"),n=f("h1"),_=w("JWT Generation"),p=S(),u=f("form"),c=f("div"),v=f("div"),C=f("h2"),O=w("Certificato di Firma"),D=S(),L=f("label"),I=w(`PEM Signature:
						`),x=f("input"),le=S(),y=f("br"),j=S(),U=f("label"),W=w(`Private Key:
						`),Y=f("input"),Me=S(),B=f("div"),z=f("h2"),we=w("Sistema Target"),ue=S(),fe=f("span"),Ae=w("Select Option:"),J=S(),q=f("select"),F=f("option"),Te=w("Gateway"),ie=f("option"),Z=w("Terminology"),Ee=f("option"),Re=w("Provisioning"),Ue=S(),P=f("div"),oe=f("h2"),ze=w("Data Json"),Ie=S(),Ce=f("label"),xe=w("Subject"),ae=S(),$=f("input"),de=S(),Oe=f("label"),Be=w("aud"),ye=S(),se=f("input"),Xe=S(),Se=f("label"),ee=w("jti"),je=S(),H=f("input"),Ne=S(),G=f("label"),Le=w("Issuer"),te=S(),l=f("input"),m=S(),he&&he.c(),h=S(),_e&&_e.c(),ne=S(),ve&&ve.c(),Ge=S(),me&&me.c(),We=S(),be&&be.c(),Ye=S(),Ve=f("div"),He=f("button"),qe=w("GENERA JWT"),Qe=S(),ce=f("div"),ke=f("span"),Ze=w("Authorization"),N=S(),R=f("input"),X=S(),M=f("span"),Ke=w("Signature"),Pe=S(),pe=f("input"),this.h()},l(T){e=d(T,"DIV",{});var Q=E(e);ge&&ge.l(Q),r=g(Q),o=d(Q,"DIV",{class:!0});var ot=E(o);n=d(ot,"H1",{class:!0});var Pt=E(n);_=A(Pt,"JWT Generation"),Pt.forEach(i),p=g(ot),u=d(ot,"FORM",{});var Tt=E(u);c=d(Tt,"DIV",{class:!0});var $e=E(c);v=d($e,"DIV",{class:!0});var et=E(v);C=d(et,"H2",{class:!0});var Rt=E(C);O=A(Rt,"Certificato di Firma"),Rt.forEach(i),D=g(et),L=d(et,"LABEL",{});var _t=E(L);I=A(_t,`PEM Signature:
						`),x=d(_t,"INPUT",{type:!0,accept:!0,class:!0}),_t.forEach(i),le=g(et),y=d(et,"BR",{}),j=g(et),U=d(et,"LABEL",{});var vt=E(U);W=A(vt,`Private Key:
						`),Y=d(vt,"INPUT",{type:!0,accept:!0,class:!0}),vt.forEach(i),et.forEach(i),Me=g($e),B=d($e,"DIV",{class:!0});var nt=E(B);z=d(nt,"H2",{class:!0});var It=E(z);we=A(It,"Sistema Target"),It.forEach(i),ue=g(nt),fe=d(nt,"SPAN",{class:!0});var Ct=E(fe);Ae=A(Ct,"Select Option:"),Ct.forEach(i),J=g(nt),q=d(nt,"SELECT",{class:!0});var ct=E(q);F=d(ct,"OPTION",{});var Ot=E(F);Te=A(Ot,"Gateway"),Ot.forEach(i),ie=d(ct,"OPTION",{});var jt=E(ie);Z=A(jt,"Terminology"),jt.forEach(i),Ee=d(ct,"OPTION",{});var Nt=E(Ee);Re=A(Nt,"Provisioning"),Nt.forEach(i),ct.forEach(i),nt.forEach(i),Ue=g($e),P=d($e,"DIV",{class:!0});var V=E(P);oe=d(V,"H2",{class:!0});var Lt=E(oe);ze=A(Lt,"Data Json"),Lt.forEach(i),Ie=g(V),Ce=d(V,"LABEL",{for:!0});var Ht=E(Ce);xe=A(Ht,"Subject"),Ht.forEach(i),ae=g(V),$=d(V,"INPUT",{type:!0,id:!0,style:!0,class:!0}),de=g(V),Oe=d(V,"LABEL",{for:!0});var Dt=E(Oe);Be=A(Dt,"aud"),Dt.forEach(i),ye=g(V),se=d(V,"INPUT",{type:!0,id:!0,style:!0,class:!0}),Xe=g(V),Se=d(V,"LABEL",{for:!0});var Ut=E(Se);ee=A(Ut,"jti"),Ut.forEach(i),je=g(V),H=d(V,"INPUT",{type:!0,id:!0,style:!0,class:!0}),Ne=g(V),G=d(V,"LABEL",{for:!0});var zt=E(G);Le=A(zt,"Issuer"),zt.forEach(i),te=g(V),l=d(V,"INPUT",{type:!0,id:!0,style:!0,class:!0}),m=g(V),he&&he.l(V),h=g(V),_e&&_e.l(V),ne=g(V),ve&&ve.l(V),Ge=g(V),me&&me.l(V),We=g(V),be&&be.l(V),V.forEach(i),Ye=g($e),Ve=d($e,"DIV",{class:!0});var Vt=E(Ve);He=d(Vt,"BUTTON",{type:!0,class:!0});var kt=E(He);qe=A(kt,"GENERA JWT"),kt.forEach(i),Vt.forEach(i),$e.forEach(i),Tt.forEach(i),Qe=g(ot),ce=d(ot,"DIV",{class:!0});var tt=E(ce);ke=d(tt,"SPAN",{class:!0});var Kt=E(ke);Ze=A(Kt,"Authorization"),Kt.forEach(i),N=g(tt),R=d(tt,"INPUT",{type:!0,class:!0}),X=g(tt),M=d(tt,"SPAN",{class:!0});var Mt=E(M);Ke=A(Mt,"Signature"),Mt.forEach(i),Pe=g(tt),pe=d(tt,"INPUT",{type:!0,class:!0}),tt.forEach(i),ot.forEach(i),Q.forEach(i),this.h()},h(){s(n,"class","pt-4 text-gray-700 text-2xl font-mono font-extrabold text-center mb-5"),s(C,"class","text-xl font-mono text-center mt-2"),x.required=!0,s(x,"type","file"),s(x,"accept","*/*"),s(x,"class","py-2 px-3 block w-full leading-5 rounded-md sm:text-sm sm:leading-5 col-span-2"),Y.required=!0,s(Y,"type","file"),s(Y,"accept","*/*"),s(Y,"class","py-2 px-3 block w-full leading-5 rounded-md sm:text-sm sm:leading-5 col-span-2"),s(v,"class","rounded-lg shadow-md px-4 font-mono border"),s(z,"class","text-xl font-mono text-center mt-4 col-span-3"),s(fe,"class","col-span-1 flex items-center"),F.__value="Gateway",F.value=F.__value,ie.__value="Terminology",ie.value=ie.__value,Ee.__value="Provisioning",Ee.value=Ee.__value,s(q,"class","py-2 px-3 block w-full leading-5 rounded-md sm:text-sm sm:leading-5 col-span-2"),t[4]===void 0&&at(()=>t[39].call(q)),s(B,"class","grid grid-rows-3 grid-cols-3 rounded-lg shadow-md px-4 pb-4 font-mono border"),s(oe,"class","text-xl font-mono text-center mt-4 col-span-full"),s(Ce,"for","sub"),s($,"type","text"),s($,"id","sub"),re($,"border-color",t[30]?"black":"red"),s($,"class","svelte-1jnzdco"),s(Oe,"for","aud"),s(se,"type","text"),s(se,"id","aud"),re(se,"border-color",t[28]?"black":"red"),s(se,"class","svelte-1jnzdco"),s(Se,"for","jti"),s(H,"type","text"),s(H,"id","jti"),re(H,"border-color",t[27]?"black":"red"),s(H,"class","svelte-1jnzdco"),s(G,"for","iss"),s(l,"type","text"),s(l,"id","iss"),re(l,"border-color",t[29]?"black":"red"),s(l,"class","svelte-1jnzdco"),s(P,"class","mt-10 col-span-2 grid grid-cols-2 md:grid-cols-4 gap-2 rounded-lg shadow-md px-4 pb-4 font-mono border items-center place-content-center"),s(He,"type","submit"),s(He,"class","rounded-md bg-green-500 text-white font-extrabold font-mono hover:bg-green-600 h-10 w-40 m-4"),s(Ve,"class","col-span-full p-4 text-center grid place-content-center content-center grid-flow-col gap-2"),s(c,"class","grid grid-cols-2 gap-2"),s(ke,"class","col-span-1"),s(R,"type","text"),s(R,"class","h-10 border-2 border-gray-300 rounded-md py-2 px-4 block w-full leading-5 col-span-2 svelte-1jnzdco"),s(M,"class","col-span-1"),s(pe,"type","text"),s(pe,"class","h-10 border-2 border-gray-300 rounded-md py-2 px-4 block w-full leading-5 col-span-2 svelte-1jnzdco"),s(ce,"class","grid grid-cols-3"),s(o,"class","p-4 pt-20 md:w-3/4 mx-auto")},m(T,Q){b(T,e,Q),ge&&ge.m(e,null),a(e,r),a(e,o),a(o,n),a(n,_),a(o,p),a(o,u),a(u,c),a(c,v),a(v,C),a(C,O),a(v,D),a(v,L),a(L,I),a(L,x),a(v,le),a(v,y),a(v,j),a(v,U),a(U,W),a(U,Y),a(c,Me),a(c,B),a(B,z),a(z,we),a(B,ue),a(B,fe),a(fe,Ae),a(B,J),a(B,q),a(q,F),a(F,Te),a(q,ie),a(ie,Z),a(q,Ee),a(Ee,Re),De(q,t[4]),a(c,Ue),a(c,P),a(P,oe),a(oe,ze),a(P,Ie),a(P,Ce),a(Ce,xe),a(P,ae),a(P,$),k($,t[6]),a(P,de),a(P,Oe),a(Oe,Be),a(P,ye),a(P,se),k(se,t[12]),a(P,Xe),a(P,Se),a(Se,ee),a(P,je),a(P,H),k(H,t[14]),a(P,Ne),a(P,G),a(G,Le),a(P,te),a(P,l),k(l,t[7]),a(P,m),he&&he.m(P,null),a(P,h),_e&&_e.m(P,null),a(P,ne),ve&&ve.m(P,null),a(P,Ge),me&&me.m(P,null),a(P,We),be&&be.m(P,null),a(c,Ye),a(c,Ve),a(Ve,He),a(He,qe),a(o,Qe),a(o,ce),a(ce,ke),a(ke,Ze),a(ce,N),a(ce,R),k(R,t[18]),a(ce,X),a(ce,M),a(M,Ke),a(ce,Pe),a(ce,pe),k(pe,t[19]),ht||(At=[K(x,"change",t[36]),K(Y,"change",t[37]),K(q,"change",t[39]),K(q,"change",t[32]),K($,"input",t[40]),K(se,"input",t[41]),K(H,"input",t[42]),K(l,"input",t[43]),K(u,"submit",Sr(t[38])),K(R,"input",t[57]),K(pe,"input",t[58])],ht=!0)},p(T,Q){T[20]?ge||(ge=rr(),ge.c(),ge.m(e,r)):ge&&(ge.d(1),ge=null),Q[0]&16&&De(q,T[4]),Q[0]&1073741824&&re($,"border-color",T[30]?"black":"red"),Q[0]&64&&$.value!==T[6]&&k($,T[6]),Q[0]&268435456&&re(se,"border-color",T[28]?"black":"red"),Q[0]&4096&&se.value!==T[12]&&k(se,T[12]),Q[0]&134217728&&re(H,"border-color",T[27]?"black":"red"),Q[0]&16384&&H.value!==T[14]&&k(H,T[14]),Q[0]&536870912&&re(l,"border-color",T[29]?"black":"red"),Q[0]&128&&l.value!==T[7]&&k(l,T[7]),T[4]=="Gateway"?he?he.p(T,Q):(he=lr(T),he.c(),he.m(P,h)):he&&(he.d(1),he=null),T[4]=="Terminology"?_e?_e.p(T,Q):(_e=sr(T),_e.c(),_e.m(P,ne)):_e&&(_e.d(1),_e=null),T[4]==="Provisioning"?ve?ve.p(T,Q):(ve=ur(T),ve.c(),ve.m(P,Ge)):ve&&(ve.d(1),ve=null),T[4]==="Provisioning"&&(T[5]==="Creazione"||T[5]==="Rinnovo")?me?me.p(T,Q):(me=cr(T),me.c(),me.m(P,We)):me&&(me.d(1),me=null),T[4]==="Provisioning"&&T[5]==="Revoca"?be?be.p(T,Q):(be=fr(T),be.c(),be.m(P,null)):be&&(be.d(1),be=null),Q[0]&262144&&R.value!==T[18]&&k(R,T[18]),Q[0]&524288&&pe.value!==T[19]&&k(pe,T[19])},i:lt,o:lt,d(T){T&&i(e),ge&&ge.d(),he&&he.d(),_e&&_e.d(),ve&&ve.d(),me&&me.d(),be&&be.d(),ht=!1,yt(At)}}}function Yr(t){return t.length>0}function qr(t){return t.length>0}function Qr(t){return t.length>0}function Zr(t){return t.length>0}function $r(t){return t.length>0}function el(t){return t.length>0}function tl(t){return t.length>0}function rl(t){return t.length>0}function ll(t){return console.log("Valido OID:"+t.length),t.length>0}function ol(t){return t.length>0}function nl(t){return t.replace("-----BEGIN PUBLIC KEY-----","").replace(/\r?\n|\r/g,"").replace("-----END PUBLIC KEY-----","").replace("-----BEGIN CERTIFICATE-----","").replace(/\r?\n|\r/g,"").replace("-----END CERTIFICATE-----","").replace(`
`,"")}function il(t,e,r){let o,n,_,p,u,c,v,C,O,D,L,I,x,le,y="CREATE",j="TREATMENT",U="AAS",W="Gateway",Y="Creazione",Me,B="PROVAX00X00X000Y^^^&amp;2.16.840.1.113883.2.9.4.3.2&amp;ISO",z="S1#190201234567XX",we="201123456",ue="GTW",fe="GATEWAY",Ae="R2",J="https://modipa-val.fse.salute.gov.it/govway/rest/in/FSE/gateway/v1",q=!0,F="",Te="",ie="",Z="";function Ee(N){r(4,W=N.target.value),r(6,B="PROVAX00X00X000Y"),W==="Terminology"||W==="Provisioning"?r(12,J="https://modipa-val.fse.salute.gov.it/govway/rest/in/FSE/terminology/v1"):W==="Gateway"&&(r(12,J="https://modipa-val.fse.salute.gov.it/govway/rest/in/FSE/gateway/v1"),r(6,B+="^^^&amp;2.16.840.1.113883.2.9.4.3.2&amp;ISO"))}const Re=N=>{Me=N.target.files[0],Me.name};let Ue,P="";const oe=async N=>{Ue=N.target.files[0],Ue.name,P=await Ce(Ue)},ze=[],Ie=async N=>{const R=N.target.files;for(let X=0;X<R.length;X++){const M=R[X],Ke=await Ce(M);ze.push(Ke)}},Ce=async N=>{const R=await N.arrayBuffer(),X=await crypto.subtle.digest("SHA-256",R);return Array.from(new Uint8Array(X)).map(Pe=>Pe.toString(16).padStart(2,"0")).join("")};function xe(N){const R=N.target.files[0],X=new FileReader;X.onload=function(M){x=nl(M.target.result)},X.onerror=function(M){console.error("Error reading the file")},X.readAsText(R)}function ae(N){const R=N.target.files[0],X=new FileReader;X.onload=function(M){le=M.target.result},X.onerror=function(M){console.error("Error reading the file")},X.readAsText(R)}let $="",de="",Oe=!1;async function Be(){if(ye()&&se()&&Xe()){const R="RS256",X="JWT",M=[x];r(18,$=await Se(R,X,M)),r(19,de=await ee(R,X,M))}r(20,Oe=!1)}function ye(){return r(30,o=Yr(B)),r(29,n=qr(z)),r(28,v=tl(J)),r(27,C=rl(F)),o&&n&&v&&C}function se(){let N=!0;return W=="Gateway"&&(r(26,_=Qr(we)),r(25,p=Zr(ue)),r(24,u=$r(fe)),r(23,c=el(Ae)),N=_&&p&&u&&c),N}function Xe(){let N=!0;return W=="Terminology"&&(r(22,O=ll(Te)),r(21,D=ol(ie)),N=O&&D,console.log(N)),N}function Se(N,R,X){return new Promise((M,Ke)=>{Yt(le,N).then(Pe=>new Qt({}).setProtectedHeader({alg:N,typ:R,x5c:X}).setSubject(B).setAudience(J).setIssuedAt().setIssuer("auth:"+z).setExpirationTime("24h").setJti(F).sign(Pe)).then(Pe=>{M(Pe.toString())}).catch(Pe=>{console.error(Pe),Ke(Pe)})})}function ee(N,R,X){let M=[];return W=="Gateway"?M={sub:B,subject_role:U,purpose_of_use:j,iss:z,locality:we,subject_application_id:ue,subject_application_vendor:fe,subject_application_version:Ae,aud:J,patient_consent:q,jti:F,action_id:y}:W=="Terminology"?M={oid:Te,version:ie,file_hash_terminology:P}:W=="Provisioning"&&(Y==="Revoca"?M={vector_id:Z===""?null:Z}:(Y==="Creazione"||Y==="Rinnovo")&&(M={vector_hash_csr:ze})),new Promise((Ke,Pe)=>{Yt(le,N).then(pe=>new Qt(M).setProtectedHeader({alg:N,typ:R,x5c:X}).setSubject(B).setAudience(J).setIssuedAt().setIssuer("integrity:"+z).setExpirationTime("24h").setJti(F).sign(pe)).then(pe=>{Ke(pe.toString())}).catch(pe=>{console.error(pe),Pe(pe)})})}function je(){W=it(this),r(4,W)}function H(){B=this.value,r(6,B)}function Ne(){J=this.value,r(12,J)}function G(){F=this.value,r(14,F)}function Le(){z=this.value,r(7,z)}function te(){U=it(this),r(3,U)}function l(){we=this.value,r(8,we)}function m(){fe=this.value,r(10,fe)}function h(){ue=this.value,r(9,ue)}function ne(){Ae=this.value,r(11,Ae)}function Ge(){q=this.value,r(13,q)}function We(){I=it(this),r(0,I)}function Ye(){y=it(this),r(1,y)}function Ve(){j=it(this),r(2,j)}function He(){Te=this.value,r(15,Te)}function qe(){ie=this.value,r(16,ie)}function Qe(){Y=it(this),r(5,Y)}function ce(){Z=this.value,r(17,Z)}function ke(){$=this.value,r(18,$)}function Ze(){de=this.value,r(19,de)}return r(30,o=!0),r(29,n=!0),r(26,_=!0),r(25,p=!0),r(24,u=!0),r(23,c=!0),r(28,v=!0),r(27,C=!0),r(22,O=!0),r(21,D=!0),r(31,L=!0),[I,y,j,U,W,Y,B,z,we,ue,fe,Ae,J,q,F,Te,ie,Z,$,de,Oe,D,O,c,u,p,_,C,v,n,o,L,Ee,Re,oe,Ie,xe,ae,Be,je,H,Ne,G,Le,te,l,m,h,ne,Ge,We,Ye,Ve,He,qe,Qe,ce,ke,Ze]}class ul extends br{constructor(e){super(),Er(this,e,il,Xr,yr,{},null,[-1,-1,-1])}}export{ul as component,sl as universal};
