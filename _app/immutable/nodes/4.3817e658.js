import{S as mr,i as Er,s as yr,k as f,a as y,q as A,l as p,m as E,c as S,r as P,h as i,n as a,Q as ut,p as W,b,D as s,R as Be,T as U,I as k,U as Sr,E as it,J as St,P as dt,V as at}from"../chunks/index.f3787bc2.js";const gr=!0,cl=Object.freeze(Object.defineProperty({__proto__:null,prerender:gr},Symbol.toStringTag,{value:"Module"})),Mt=[{value:"AAS",text:"Personale di assistenza ad alta specializzazione"},{value:"APR",text:"Medico Medicina Generale Pediatra di Libera Scelta"},{value:"PSS",text:"Professionista del sociale"},{value:"INF",text:"Personale infermieristico"},{value:"FAR",text:"Farmacista"},{value:"DSA",text:"Direttore sanitario"},{value:"DAM",text:"Direttore amministrativo"},{value:"OAM",text:"Operatore amministrativo"},{value:"ASS",text:"Assistito"},{value:"TUT",text:"Tutore"},{value:"ING",text:"Informal giver (Assistito)"},{value:"GEN",text:"Genitore Assistito"},{value:"NOR",text:"Nodo regionale"},{value:"DRS",text:"Dirigente sanitario"},{value:"RSA",text:"Medico RSA"},{value:"MRP",text:"Medico Rete di Patologia"},{value:"INI",text:"Infrastruttura Nazionale per l’Interoperabilità"},{value:"OGC",text:"Operatore per la gestione dei consensi"},{value:"OPI",text:"Operatore di informativa"},{value:"MDS",text:"Ruolo del Ministero della Salute per la gestione del DGC"}],Jt=[{value:"TREATMENT",text:"Trattamento di cura ordinario"},{value:"EMERGENCY",text:"Trattamento in emergenza"},{value:"PUBEMERGENCY",text:"Trattamento per la salvaguardia di un terzo o della collettività"},{value:"SYSADMIN",text:"Trasferimento del FSE"},{value:"PERSONAL",text:"Consultazione del FSE"},{value:"UPDATE",text:"Invalidamento e aggiornamento di un documento"},{value:"CONSENT",text:"Comunicazione valori consensi"},{value:"ADMINISTRATIVE",text:"Operazioni amministrative"}],Gt=[{value:"CREATE",text:"CREATE"},{value:"UPDATE",text:"UPDATE"},{value:"DELETE",text:"DELETE"},{value:"REPLACE",text:"REPLACE"}],Wt=[{value:"010",text:"Regione Piemonte"},{value:"020",text:"Regione Valle dAosta"},{value:"030",text:"Regione Lombardia"},{value:"041",text:"P.A. Bolzano"},{value:"042",text:"P.A. Trento"},{value:"050",text:"Regione Veneto"},{value:"060",text:"Regione Friuli Venezia Giulia"},{value:"070",text:"Regione Liguria"},{value:"080",text:"Regione Emilia-Romagna"},{value:"090",text:"Regione Toscana"},{value:"100",text:"Regione Umbria"},{value:"110",text:"Regione Marche"},{value:"120",text:"Regione Lazio"},{value:"130",text:"Regione Abruzzo"},{value:"140",text:"Regione Molise"},{value:"150",text:"Regione Campania"},{value:"160",text:"Regione Puglia"},{value:"170",text:"Regione Basilicata"},{value:"180",text:"Regione Calabria"},{value:"190",text:"Regione Sicilia"},{value:"200",text:"Regione Sardegna"},{value:"000",text:"INI"},{value:"001",text:"SASN"},{value:"999",text:"MDS"}],gt=crypto,pr=e=>e instanceof CryptoKey,ct=new TextEncoder,xt=new TextDecoder;function wr(...e){const t=e.reduce((n,{length:v})=>n+v,0),l=new Uint8Array(t);let o=0;return e.forEach(n=>{l.set(n,o),o+=n.length}),l}const Ar=e=>{let t=e;typeof t=="string"&&(t=ct.encode(t));const l=32768,o=[];for(let n=0;n<t.length;n+=l)o.push(String.fromCharCode.apply(null,t.subarray(n,n+l)));return btoa(o.join(""))},mt=e=>Ar(e).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_");class wt extends Error{static get code(){return"ERR_JOSE_GENERIC"}constructor(t){var l;super(t),this.code="ERR_JOSE_GENERIC",this.name=this.constructor.name,(l=Error.captureStackTrace)===null||l===void 0||l.call(Error,this,this.constructor)}}class _t extends wt{constructor(){super(...arguments),this.code="ERR_JOSE_NOT_SUPPORTED"}static get code(){return"ERR_JOSE_NOT_SUPPORTED"}}class ft extends wt{constructor(){super(...arguments),this.code="ERR_JWS_INVALID"}static get code(){return"ERR_JWS_INVALID"}}class Pr extends wt{constructor(){super(...arguments),this.code="ERR_JWT_INVALID"}static get code(){return"ERR_JWT_INVALID"}}function Ye(e,t="algorithm.name"){return new TypeError(`CryptoKey does not support this operation, its ${t} must be ${e}`)}function ht(e,t){return e.name===t}function Et(e){return parseInt(e.name.slice(4),10)}function Tr(e){switch(e){case"ES256":return"P-256";case"ES384":return"P-384";case"ES512":return"P-521";default:throw new Error("unreachable")}}function Rr(e,t){if(t.length&&!t.some(l=>e.usages.includes(l))){let l="CryptoKey does not support this operation, its usages must include ";if(t.length>2){const o=t.pop();l+=`one of ${t.join(", ")}, or ${o}.`}else t.length===2?l+=`one of ${t[0]} or ${t[1]}.`:l+=`${t[0]}.`;throw new TypeError(l)}}function Ir(e,t,...l){switch(t){case"HS256":case"HS384":case"HS512":{if(!ht(e.algorithm,"HMAC"))throw Ye("HMAC");const o=parseInt(t.slice(2),10);if(Et(e.algorithm.hash)!==o)throw Ye(`SHA-${o}`,"algorithm.hash");break}case"RS256":case"RS384":case"RS512":{if(!ht(e.algorithm,"RSASSA-PKCS1-v1_5"))throw Ye("RSASSA-PKCS1-v1_5");const o=parseInt(t.slice(2),10);if(Et(e.algorithm.hash)!==o)throw Ye(`SHA-${o}`,"algorithm.hash");break}case"PS256":case"PS384":case"PS512":{if(!ht(e.algorithm,"RSA-PSS"))throw Ye("RSA-PSS");const o=parseInt(t.slice(2),10);if(Et(e.algorithm.hash)!==o)throw Ye(`SHA-${o}`,"algorithm.hash");break}case"EdDSA":{if(e.algorithm.name!=="Ed25519"&&e.algorithm.name!=="Ed448")throw Ye("Ed25519 or Ed448");break}case"ES256":case"ES384":case"ES512":{if(!ht(e.algorithm,"ECDSA"))throw Ye("ECDSA");const o=Tr(t);if(e.algorithm.namedCurve!==o)throw Ye(o,"algorithm.namedCurve");break}default:throw new TypeError("CryptoKey does not support this operation")}Rr(e,l)}function dr(e,t,...l){if(l.length>2){const o=l.pop();e+=`one of type ${l.join(", ")}, or ${o}.`}else l.length===2?e+=`one of type ${l[0]} or ${l[1]}.`:e+=`of type ${l[0]}.`;return t==null?e+=` Received ${t}`:typeof t=="function"&&t.name?e+=` Received function ${t.name}`:typeof t=="object"&&t!=null&&t.constructor&&t.constructor.name&&(e+=` Received an instance of ${t.constructor.name}`),e}const Ft=(e,...t)=>dr("Key must be ",e,...t);function hr(e,t,...l){return dr(`Key for the ${e} algorithm must be `,t,...l)}const _r=e=>pr(e),Xe=["CryptoKey"],Cr=(...e)=>{const t=e.filter(Boolean);if(t.length===0||t.length===1)return!0;let l;for(const o of t){const n=Object.keys(o);if(!l||l.size===0){l=new Set(n);continue}for(const v of n){if(l.has(v))return!1;l.add(v)}}return!0};function jr(e){return typeof e=="object"&&e!==null}function Or(e){if(!jr(e)||Object.prototype.toString.call(e)!=="[object Object]")return!1;if(Object.getPrototypeOf(e)===null)return!0;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}const Lr=(e,t)=>{if(e.startsWith("RS")||e.startsWith("PS")){const{modulusLength:l}=t.algorithm;if(typeof l!="number"||l<2048)throw new TypeError(`${e} requires key modulusLength to be 2048 bits or larger`)}},ot=(e,t,l=0)=>{l===0&&(t.unshift(t.length),t.unshift(6));let o=e.indexOf(t[0],l);if(o===-1)return!1;const n=e.subarray(o,o+t.length);return n.length!==t.length?!1:n.every((v,_)=>v===t[_])||ot(e,t,o+1)},Xt=e=>{switch(!0){case ot(e,[42,134,72,206,61,3,1,7]):return"P-256";case ot(e,[43,129,4,0,34]):return"P-384";case ot(e,[43,129,4,0,35]):return"P-521";case ot(e,[43,101,110]):return"X25519";case ot(e,[43,101,111]):return"X448";case ot(e,[43,101,112]):return"Ed25519";case ot(e,[43,101,113]):return"Ed448";default:throw new _t("Invalid or unsupported EC Key Curve or OKP Key Sub Type")}},Nr=async(e,t,l,o,n)=>{var v;let _,u;const d=new Uint8Array(atob(l.replace(e,"")).split("").map(C=>C.charCodeAt(0))),m=t==="spki";switch(o){case"PS256":case"PS384":case"PS512":_={name:"RSA-PSS",hash:`SHA-${o.slice(-3)}`},u=m?["verify"]:["sign"];break;case"RS256":case"RS384":case"RS512":_={name:"RSASSA-PKCS1-v1_5",hash:`SHA-${o.slice(-3)}`},u=m?["verify"]:["sign"];break;case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":_={name:"RSA-OAEP",hash:`SHA-${parseInt(o.slice(-3),10)||1}`},u=m?["encrypt","wrapKey"]:["decrypt","unwrapKey"];break;case"ES256":_={name:"ECDSA",namedCurve:"P-256"},u=m?["verify"]:["sign"];break;case"ES384":_={name:"ECDSA",namedCurve:"P-384"},u=m?["verify"]:["sign"];break;case"ES512":_={name:"ECDSA",namedCurve:"P-521"},u=m?["verify"]:["sign"];break;case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":{const C=Xt(d);_=C.startsWith("P-")?{name:"ECDH",namedCurve:C}:{name:C},u=m?[]:["deriveBits"];break}case"EdDSA":_={name:Xt(d)},u=m?["verify"]:["sign"];break;default:throw new _t('Invalid or unsupported "alg" (Algorithm) value')}return gt.subtle.importKey(t,d,_,(v=n==null?void 0:n.extractable)!==null&&v!==void 0?v:!1,u)},Hr=(e,t,l)=>Nr(/(?:-----(?:BEGIN|END) PRIVATE KEY-----|\s)/g,"pkcs8",e,t,l);async function Yt(e,t,l){if(typeof e!="string"||e.indexOf("-----BEGIN PRIVATE KEY-----")!==0)throw new TypeError('"pkcs8" must be PKCS#8 formatted string');return Hr(e,t,l)}const Ur=(e,t)=>{if(!(t instanceof Uint8Array)){if(!_r(t))throw new TypeError(hr(e,t,...Xe,"Uint8Array"));if(t.type!=="secret")throw new TypeError(`${Xe.join(" or ")} instances for symmetric algorithms must be of type "secret"`)}},Dr=(e,t,l)=>{if(!_r(t))throw new TypeError(hr(e,t,...Xe));if(t.type==="secret")throw new TypeError(`${Xe.join(" or ")} instances for asymmetric algorithms must not be of type "secret"`);if(l==="sign"&&t.type==="public")throw new TypeError(`${Xe.join(" or ")} instances for asymmetric algorithm signing must be of type "private"`);if(l==="decrypt"&&t.type==="public")throw new TypeError(`${Xe.join(" or ")} instances for asymmetric algorithm decryption must be of type "private"`);if(t.algorithm&&l==="verify"&&t.type==="private")throw new TypeError(`${Xe.join(" or ")} instances for asymmetric algorithm verifying must be of type "public"`);if(t.algorithm&&l==="encrypt"&&t.type==="private")throw new TypeError(`${Xe.join(" or ")} instances for asymmetric algorithm encryption must be of type "public"`)},kr=(e,t,l)=>{e.startsWith("HS")||e==="dir"||e.startsWith("PBES2")||/^A\d{3}(?:GCM)?KW$/.test(e)?Ur(e,t):Dr(e,t,l)};function zr(e,t,l,o,n){if(n.crit!==void 0&&o.crit===void 0)throw new e('"crit" (Critical) Header Parameter MUST be integrity protected');if(!o||o.crit===void 0)return new Set;if(!Array.isArray(o.crit)||o.crit.length===0||o.crit.some(_=>typeof _!="string"||_.length===0))throw new e('"crit" (Critical) Header Parameter MUST be an array of non-empty strings when present');let v;l!==void 0?v=new Map([...Object.entries(l),...t.entries()]):v=t;for(const _ of o.crit){if(!v.has(_))throw new _t(`Extension Header Parameter "${_}" is not recognized`);if(n[_]===void 0)throw new e(`Extension Header Parameter "${_}" is missing`);if(v.get(_)&&o[_]===void 0)throw new e(`Extension Header Parameter "${_}" MUST be integrity protected`)}return new Set(o.crit)}function Vr(e,t){const l=`SHA-${e.slice(-3)}`;switch(e){case"HS256":case"HS384":case"HS512":return{hash:l,name:"HMAC"};case"PS256":case"PS384":case"PS512":return{hash:l,name:"RSA-PSS",saltLength:e.slice(-3)>>3};case"RS256":case"RS384":case"RS512":return{hash:l,name:"RSASSA-PKCS1-v1_5"};case"ES256":case"ES384":case"ES512":return{hash:l,name:"ECDSA",namedCurve:t.namedCurve};case"EdDSA":return{name:t.name};default:throw new _t(`alg ${e} is not supported either by JOSE or your javascript runtime`)}}function Kr(e,t,l){if(pr(t))return Ir(t,e,l),t;if(t instanceof Uint8Array){if(!e.startsWith("HS"))throw new TypeError(Ft(t,...Xe));return gt.subtle.importKey("raw",t,{hash:`SHA-${e.slice(-3)}`,name:"HMAC"},!1,[l])}throw new TypeError(Ft(t,...Xe,"Uint8Array"))}const yt=e=>Math.floor(e.getTime()/1e3),vr=60,br=vr*60,At=br*24,Br=At*7,Mr=At*365.25,Jr=/^(\d+|\d+\.\d+) ?(seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)$/i,qt=e=>{const t=Jr.exec(e);if(!t)throw new TypeError("Invalid time period format");const l=parseFloat(t[1]);switch(t[2].toLowerCase()){case"sec":case"secs":case"second":case"seconds":case"s":return Math.round(l);case"minute":case"minutes":case"min":case"mins":case"m":return Math.round(l*vr);case"hour":case"hours":case"hr":case"hrs":case"h":return Math.round(l*br);case"day":case"days":case"d":return Math.round(l*At);case"week":case"weeks":case"w":return Math.round(l*Br);default:return Math.round(l*Mr)}},Gr=async(e,t,l)=>{const o=await Kr(e,t,"sign");Lr(e,o);const n=await gt.subtle.sign(Vr(e,o.algorithm),o,l);return new Uint8Array(n)};class Wr{constructor(t){if(!(t instanceof Uint8Array))throw new TypeError("payload must be an instance of Uint8Array");this._payload=t}setProtectedHeader(t){if(this._protectedHeader)throw new TypeError("setProtectedHeader can only be called once");return this._protectedHeader=t,this}setUnprotectedHeader(t){if(this._unprotectedHeader)throw new TypeError("setUnprotectedHeader can only be called once");return this._unprotectedHeader=t,this}async sign(t,l){if(!this._protectedHeader&&!this._unprotectedHeader)throw new ft("either setProtectedHeader or setUnprotectedHeader must be called before #sign()");if(!Cr(this._protectedHeader,this._unprotectedHeader))throw new ft("JWS Protected and JWS Unprotected Header Parameter names must be disjoint");const o={...this._protectedHeader,...this._unprotectedHeader},n=zr(ft,new Map([["b64",!0]]),l==null?void 0:l.crit,this._protectedHeader,o);let v=!0;if(n.has("b64")&&(v=this._protectedHeader.b64,typeof v!="boolean"))throw new ft('The "b64" (base64url-encode payload) Header Parameter must be a boolean');const{alg:_}=o;if(typeof _!="string"||!_)throw new ft('JWS "alg" (Algorithm) Header Parameter missing or invalid');kr(_,t,"sign");let u=this._payload;v&&(u=ct.encode(mt(u)));let d;this._protectedHeader?d=ct.encode(mt(JSON.stringify(this._protectedHeader))):d=ct.encode("");const m=wr(d,ct.encode("."),u),C=await Gr(_,t,m),j={signature:mt(C),payload:""};return v&&(j.payload=xt.decode(u)),this._unprotectedHeader&&(j.header=this._unprotectedHeader),this._protectedHeader&&(j.protected=xt.decode(d)),j}}class xr{constructor(t){this._flattened=new Wr(t)}setProtectedHeader(t){return this._flattened.setProtectedHeader(t),this}async sign(t,l){const o=await this._flattened.sign(t,l);if(o.payload===void 0)throw new TypeError("use the flattened module for creating JWS with b64: false");return`${o.protected}.${o.payload}.${o.signature}`}}class Fr{constructor(t){if(!Or(t))throw new TypeError("JWT Claims Set MUST be an object");this._payload=t}setIssuer(t){return this._payload={...this._payload,iss:t},this}setSubject(t){return this._payload={...this._payload,sub:t},this}setAudience(t){return this._payload={...this._payload,aud:t},this}setJti(t){return this._payload={...this._payload,jti:t},this}setNotBefore(t){return typeof t=="number"?this._payload={...this._payload,nbf:t}:this._payload={...this._payload,nbf:yt(new Date)+qt(t)},this}setExpirationTime(t){return typeof t=="number"?this._payload={...this._payload,exp:t}:this._payload={...this._payload,exp:yt(new Date)+qt(t)},this}setIssuedAt(t){return typeof t>"u"?this._payload={...this._payload,iat:yt(new Date)}:this._payload={...this._payload,iat:t},this}}class Qt extends Fr{setProtectedHeader(t){return this._protectedHeader=t,this}async sign(t,l){var o;const n=new xr(ct.encode(JSON.stringify(this._payload)));if(n.setProtectedHeader(this._protectedHeader),Array.isArray((o=this._protectedHeader)===null||o===void 0?void 0:o.crit)&&this._protectedHeader.crit.includes("b64")&&this._protectedHeader.b64===!1)throw new Pr("JWTs MUST NOT use unencoded payload");return n.sign(t,l)}}function Zt(e,t,l){const o=e.slice();return o[80]=t[l].value,o[81]=t[l].text,o}function $t(e,t,l){const o=e.slice();return o[80]=t[l].value,o[81]=t[l].text,o}function er(e,t,l){const o=e.slice();return o[80]=t[l].value,o[81]=t[l].text,o[86]=t[l].organization,o[87]=t[l].organization_id,o}function tr(e,t,l){const o=e.slice();return o[80]=t[l].value,o[81]=t[l].text,o}function rr(e){let t,l,o,n,v,_,u,d,m;return{c(){t=f("div"),l=f("div"),o=f("div"),n=y(),v=f("div"),_=y(),u=f("div"),d=y(),m=f("div"),this.h()},l(C){t=p(C,"DIV",{class:!0});var j=E(t);l=p(j,"DIV",{class:!0});var z=E(l);o=p(z,"DIV",{}),E(o).forEach(i),n=S(z),v=p(z,"DIV",{}),E(v).forEach(i),_=S(z),u=p(z,"DIV",{}),E(u).forEach(i),d=S(z),m=p(z,"DIV",{}),E(m).forEach(i),z.forEach(i),j.forEach(i),this.h()},h(){a(l,"class","spin"),a(t,"class","overflow-hidden w-full h-full absolute bg-gray-800/40 p-0 z-50 grid items-center content-center")},m(C,j){b(C,t,j),s(t,l),s(l,o),s(l,n),s(l,v),s(l,_),s(l,u),s(l,d),s(l,m)},d(C){C&&i(t)}}}function lr(e){let t,l,o,n,v,_,u,d,m,C,j,z,L,R,x,oe,g,N,V,Se,ie,ue,$,M,je,Te,ce,ge,fe,X,ee,Oe,Y,ne,se,ye,Le,w,ae,Je,Pe,Ne,Ge,de,he,Re,ke,We,me,te,Ie,ze,xe,_e,ve,He,Ve,Fe,be,Ee,qe,Ue=Mt,q=[];for(let r=0;r<Ue.length;r+=1)q[r]=or(tr(e,Ue,r));let De=Wt,Q=[];for(let r=0;r<De.length;r+=1)Q[r]=ir(er(e,De,r));let Ke=Gt,F=[];for(let r=0;r<Ke.length;r+=1)F[r]=nr($t(e,Ke,r));let we=Jt,re=[];for(let r=0;r<we.length;r+=1)re[r]=sr(Zt(e,we,r));return{c(){t=f("label"),l=A("Subject Role"),o=y(),n=f("select");for(let r=0;r<q.length;r+=1)q[r].c();v=y(),_=f("label"),u=A("Locality"),d=y(),m=f("input"),C=y(),j=f("label"),z=A("Subject application vendor"),L=y(),R=f("input"),x=y(),oe=f("label"),g=A("Subject application id"),N=y(),V=f("input"),Se=y(),ie=f("label"),ue=A("Subject application version"),$=y(),M=f("input"),je=y(),Te=f("label"),ce=A("Patient consent"),ge=y(),fe=f("input"),X=y(),ee=f("label"),Oe=A("Subject organization"),Y=y(),ne=f("select");for(let r=0;r<Q.length;r+=1)Q[r].c();se=y(),ye=f("label"),Le=A("Action id"),w=y(),ae=f("select");for(let r=0;r<F.length;r+=1)F[r].c();Je=y(),Pe=f("label"),Ne=A("Purpose of use"),Ge=y(),de=f("select");for(let r=0;r<re.length;r+=1)re[r].c();he=y(),Re=f("label"),ke=A("pdf"),We=y(),me=f("input"),te=y(),Ie=f("label"),ze=A("Resource HL7 Type"),xe=y(),_e=f("input"),ve=y(),He=f("label"),Ve=A("Person Id"),Fe=y(),be=f("input"),this.h()},l(r){t=p(r,"LABEL",{for:!0});var c=E(t);l=P(c,"Subject Role"),c.forEach(i),o=S(r),n=p(r,"SELECT",{class:!0});var h=E(n);for(let H=0;H<q.length;H+=1)q[H].l(h);h.forEach(i),v=S(r),_=p(r,"LABEL",{for:!0});var pe=E(_);u=P(pe,"Locality"),pe.forEach(i),d=S(r),m=p(r,"INPUT",{type:!0,id:!0,style:!0,class:!0}),C=S(r),j=p(r,"LABEL",{for:!0});var Qe=E(j);z=P(Qe,"Subject application vendor"),Qe.forEach(i),L=S(r),R=p(r,"INPUT",{type:!0,id:!0,style:!0,class:!0}),x=S(r),oe=p(r,"LABEL",{for:!0});var Ce=E(oe);g=P(Ce,"Subject application id"),Ce.forEach(i),N=S(r),V=p(r,"INPUT",{type:!0,id:!0,style:!0,class:!0}),Se=S(r),ie=p(r,"LABEL",{for:!0});var Ze=E(ie);ue=P(Ze,"Subject application version"),Ze.forEach(i),$=S(r),M=p(r,"INPUT",{type:!0,id:!0,style:!0,class:!0}),je=S(r),Te=p(r,"LABEL",{for:!0});var Me=E(Te);ce=P(Me,"Patient consent"),Me.forEach(i),ge=S(r),fe=p(r,"INPUT",{type:!0,id:!0,class:!0}),X=S(r),ee=p(r,"LABEL",{for:!0});var $e=E(ee);Oe=P($e,"Subject organization"),$e.forEach(i),Y=S(r),ne=p(r,"SELECT",{class:!0});var et=E(ne);for(let H=0;H<Q.length;H+=1)Q[H].l(et);et.forEach(i),se=S(r),ye=p(r,"LABEL",{for:!0});var I=E(ye);Le=P(I,"Action id"),I.forEach(i),w=S(r),ae=p(r,"SELECT",{class:!0});var le=E(ae);for(let H=0;H<F.length;H+=1)F[H].l(le);le.forEach(i),Je=S(r),Pe=p(r,"LABEL",{for:!0});var J=E(Pe);Ne=P(J,"Purpose of use"),J.forEach(i),Ge=S(r),de=p(r,"SELECT",{class:!0});var O=E(de);for(let H=0;H<re.length;H+=1)re[H].l(O);O.forEach(i),he=S(r),Re=p(r,"LABEL",{for:!0});var B=E(Re);ke=P(B,"pdf"),B.forEach(i),We=S(r),me=p(r,"INPUT",{id:!0,type:!0,accept:!0,class:!0}),te=S(r),Ie=p(r,"LABEL",{for:!0});var D=E(Ie);ze=P(D,"Resource HL7 Type"),D.forEach(i),xe=S(r),_e=p(r,"INPUT",{type:!0,id:!0,style:!0,class:!0}),ve=S(r),He=p(r,"LABEL",{for:!0});var G=E(He);Ve=P(G,"Person Id"),G.forEach(i),Fe=S(r),be=p(r,"INPUT",{type:!0,id:!0,style:!0,class:!0}),this.h()},h(){a(t,"for","subject_role_enum"),a(n,"class","w-full py-2 px-4 mb-4 rounded-md border border-gray-300"),e[3]===void 0&&ut(()=>e[47].call(n)),a(_,"for","locality"),a(m,"type","text"),a(m,"id","locality"),W(m,"border-color",e[29]?"black":"red"),a(m,"class","svelte-1jnzdco"),a(j,"for","subject_application_vendor"),a(R,"type","text"),a(R,"id","subject_application_vendor"),W(R,"border-color",e[27]?"black":"red"),a(R,"class","svelte-1jnzdco"),a(oe,"for","subject_application_id"),a(V,"type","text"),a(V,"id","subject_application_id"),W(V,"border-color",e[28]?"black":"red"),a(V,"class","svelte-1jnzdco"),a(ie,"for","subject_application_version"),a(M,"type","text"),a(M,"id","subject_application_version"),W(M,"border-color",e[26]?"black":"red"),a(M,"class","svelte-1jnzdco"),a(Te,"for","patient_consent"),a(fe,"type","checkbox"),a(fe,"id","patient_consent"),a(fe,"class","svelte-1jnzdco"),a(ee,"for","subject_organization"),a(ne,"class","w-full py-2 px-4 mb-4 rounded-md border border-gray-300"),e[0]===void 0&&ut(()=>e[53].call(ne)),a(ye,"for","action_id_enum"),a(ae,"class","w-full py-2 px-4 mb-4 rounded-md border border-gray-300"),e[1]===void 0&&ut(()=>e[54].call(ae)),a(Pe,"for","purpose_of_use_enum"),a(de,"class","w-full py-2 px-4 mb-4 rounded-md border border-gray-300"),e[2]===void 0&&ut(()=>e[55].call(de)),a(Re,"for","pdf"),a(me,"id","pdf"),a(me,"type","file"),a(me,"accept","application/pdf"),a(me,"class","w-full py-2 px-4 mb-4 rounded-md border border-gray-300"),a(Ie,"for","resource_hl7_type"),a(_e,"type","text"),a(_e,"id","resource_hl7_type"),W(_e,"border-color",e[25]?"black":"red"),a(_e,"class","svelte-1jnzdco"),a(He,"for","person_id"),a(be,"type","text"),a(be,"id","person_id"),W(be,"border-color",e[25]?"black":"red"),a(be,"class","svelte-1jnzdco")},m(r,c){b(r,t,c),s(t,l),b(r,o,c),b(r,n,c);for(let h=0;h<q.length;h+=1)q[h].m(n,null);Be(n,e[3]),b(r,v,c),b(r,_,c),s(_,u),b(r,d,c),b(r,m,c),U(m,e[10]),b(r,C,c),b(r,j,c),s(j,z),b(r,L,c),b(r,R,c),U(R,e[12]),b(r,x,c),b(r,oe,c),s(oe,g),b(r,N,c),b(r,V,c),U(V,e[11]),b(r,Se,c),b(r,ie,c),s(ie,ue),b(r,$,c),b(r,M,c),U(M,e[13]),b(r,je,c),b(r,Te,c),s(Te,ce),b(r,ge,c),b(r,fe,c),U(fe,e[15]),b(r,X,c),b(r,ee,c),s(ee,Oe),b(r,Y,c),b(r,ne,c);for(let h=0;h<Q.length;h+=1)Q[h].m(ne,null);Be(ne,e[0]),b(r,se,c),b(r,ye,c),s(ye,Le),b(r,w,c),b(r,ae,c);for(let h=0;h<F.length;h+=1)F[h].m(ae,null);Be(ae,e[1]),b(r,Je,c),b(r,Pe,c),s(Pe,Ne),b(r,Ge,c),b(r,de,c);for(let h=0;h<re.length;h+=1)re[h].m(de,null);Be(de,e[2]),b(r,he,c),b(r,Re,c),s(Re,ke),b(r,We,c),b(r,me,c),b(r,te,c),b(r,Ie,c),s(Ie,ze),b(r,xe,c),b(r,_e,c),U(_e,e[7]),b(r,ve,c),b(r,He,c),s(He,Ve),b(r,Fe,c),b(r,be,c),U(be,e[6]),Ee||(qe=[k(n,"change",e[47]),k(m,"input",e[48]),k(R,"input",e[49]),k(V,"input",e[50]),k(M,"input",e[51]),k(fe,"change",e[52]),k(ne,"change",e[53]),k(ae,"change",e[54]),k(de,"change",e[55]),k(me,"change",e[36]),k(_e,"input",e[56]),k(be,"input",e[57])],Ee=!0)},p(r,c){if(c&0){Ue=Mt;let h;for(h=0;h<Ue.length;h+=1){const pe=tr(r,Ue,h);q[h]?q[h].p(pe,c):(q[h]=or(pe),q[h].c(),q[h].m(n,null))}for(;h<q.length;h+=1)q[h].d(1);q.length=Ue.length}if(c[0]&8&&Be(n,r[3]),c[0]&536870912&&W(m,"border-color",r[29]?"black":"red"),c[0]&1024&&m.value!==r[10]&&U(m,r[10]),c[0]&134217728&&W(R,"border-color",r[27]?"black":"red"),c[0]&4096&&R.value!==r[12]&&U(R,r[12]),c[0]&268435456&&W(V,"border-color",r[28]?"black":"red"),c[0]&2048&&V.value!==r[11]&&U(V,r[11]),c[0]&67108864&&W(M,"border-color",r[26]?"black":"red"),c[0]&8192&&M.value!==r[13]&&U(M,r[13]),c[0]&32768&&U(fe,r[15]),c&0){De=Wt;let h;for(h=0;h<De.length;h+=1){const pe=er(r,De,h);Q[h]?Q[h].p(pe,c):(Q[h]=ir(pe),Q[h].c(),Q[h].m(ne,null))}for(;h<Q.length;h+=1)Q[h].d(1);Q.length=De.length}if(c[0]&1&&Be(ne,r[0]),c&0){Ke=Gt;let h;for(h=0;h<Ke.length;h+=1){const pe=$t(r,Ke,h);F[h]?F[h].p(pe,c):(F[h]=nr(pe),F[h].c(),F[h].m(ae,null))}for(;h<F.length;h+=1)F[h].d(1);F.length=Ke.length}if(c[0]&2&&Be(ae,r[1]),c&0){we=Jt;let h;for(h=0;h<we.length;h+=1){const pe=Zt(r,we,h);re[h]?re[h].p(pe,c):(re[h]=sr(pe),re[h].c(),re[h].m(de,null))}for(;h<re.length;h+=1)re[h].d(1);re.length=we.length}c[0]&4&&Be(de,r[2]),c[0]&33554432&&W(_e,"border-color",r[25]?"black":"red"),c[0]&128&&_e.value!==r[7]&&U(_e,r[7]),c[0]&33554432&&W(be,"border-color",r[25]?"black":"red"),c[0]&64&&be.value!==r[6]&&U(be,r[6])},d(r){r&&i(t),r&&i(o),r&&i(n),dt(q,r),r&&i(v),r&&i(_),r&&i(d),r&&i(m),r&&i(C),r&&i(j),r&&i(L),r&&i(R),r&&i(x),r&&i(oe),r&&i(N),r&&i(V),r&&i(Se),r&&i(ie),r&&i($),r&&i(M),r&&i(je),r&&i(Te),r&&i(ge),r&&i(fe),r&&i(X),r&&i(ee),r&&i(Y),r&&i(ne),dt(Q,r),r&&i(se),r&&i(ye),r&&i(w),r&&i(ae),dt(F,r),r&&i(Je),r&&i(Pe),r&&i(Ge),r&&i(de),dt(re,r),r&&i(he),r&&i(Re),r&&i(We),r&&i(me),r&&i(te),r&&i(Ie),r&&i(xe),r&&i(_e),r&&i(ve),r&&i(He),r&&i(Fe),r&&i(be),Ee=!1,St(qe)}}}function or(e){let t,l=e[80]+"",o,n,v=e[81]+"",_;return{c(){t=f("option"),o=A(l),n=A(" - "),_=A(v),this.h()},l(u){t=p(u,"OPTION",{});var d=E(t);o=P(d,l),n=P(d," - "),_=P(d,v),d.forEach(i),this.h()},h(){t.__value=e[80],t.value=t.__value},m(u,d){b(u,t,d),s(t,o),s(t,n),s(t,_)},p:it,d(u){u&&i(t)}}}function ir(e){let t,l=e[80]+"",o,n,v=e[81]+"",_;return{c(){t=f("option"),o=A(l),n=A(" - "),_=A(v),this.h()},l(u){t=p(u,"OPTION",{});var d=E(t);o=P(d,l),n=P(d," - "),_=P(d,v),d.forEach(i),this.h()},h(){t.__value={organization_id:e[87],organization:e[86]},t.value=t.__value},m(u,d){b(u,t,d),s(t,o),s(t,n),s(t,_)},p:it,d(u){u&&i(t)}}}function nr(e){let t,l=e[81]+"",o;return{c(){t=f("option"),o=A(l),this.h()},l(n){t=p(n,"OPTION",{});var v=E(t);o=P(v,l),v.forEach(i),this.h()},h(){t.__value=e[80],t.value=t.__value},m(n,v){b(n,t,v),s(t,o)},p:it,d(n){n&&i(t)}}}function sr(e){let t,l=e[80]+"",o,n,v=e[81]+"",_;return{c(){t=f("option"),o=A(l),n=A(" - "),_=A(v),this.h()},l(u){t=p(u,"OPTION",{});var d=E(t);o=P(d,l),n=P(d," - "),_=P(d,v),d.forEach(i),this.h()},h(){t.__value=e[80],t.value=t.__value},m(u,d){b(u,t,d),s(t,o),s(t,n),s(t,_)},p:it,d(u){u&&i(t)}}}function ar(e){let t,l,o,n,v,_,u,d,m,C,j,z,L,R,x,oe;return{c(){t=f("label"),l=A("oid"),o=y(),n=f("input"),v=y(),_=f("label"),u=A("version"),d=y(),m=f("input"),C=y(),j=f("label"),z=A("File"),L=y(),R=f("input"),this.h()},l(g){t=p(g,"LABEL",{for:!0});var N=E(t);l=P(N,"oid"),N.forEach(i),o=S(g),n=p(g,"INPUT",{type:!0,style:!0,id:!0,class:!0}),v=S(g),_=p(g,"LABEL",{for:!0});var V=E(_);u=P(V,"version"),V.forEach(i),d=S(g),m=p(g,"INPUT",{type:!0,style:!0,id:!0,class:!0}),C=S(g),j=p(g,"LABEL",{for:!0});var Se=E(j);z=P(Se,"File"),Se.forEach(i),L=S(g),R=p(g,"INPUT",{id:!0,type:!0,accept:!0,class:!0}),this.h()},h(){a(t,"for","oid"),a(n,"type","text"),W(n,"border-color",e[24]?"black":"red"),a(n,"id","oid"),a(n,"class","svelte-1jnzdco"),a(_,"for","version"),a(m,"type","text"),W(m,"border-color",e[23]?"black":"red"),a(m,"id","version"),a(m,"class","svelte-1jnzdco"),a(j,"for","file_terminology"),a(R,"id","file_terminology"),a(R,"type","file"),a(R,"accept","*/*"),a(R,"class","w-full py-2 px-4 mb-4 rounded-md border border-gray-300")},m(g,N){b(g,t,N),s(t,l),b(g,o,N),b(g,n,N),U(n,e[17]),b(g,v,N),b(g,_,N),s(_,u),b(g,d,N),b(g,m,N),U(m,e[18]),b(g,C,N),b(g,j,N),s(j,z),b(g,L,N),b(g,R,N),x||(oe=[k(n,"input",e[58]),k(m,"input",e[59]),k(R,"change",e[37])],x=!0)},p(g,N){N[0]&16777216&&W(n,"border-color",g[24]?"black":"red"),N[0]&131072&&n.value!==g[17]&&U(n,g[17]),N[0]&8388608&&W(m,"border-color",g[23]?"black":"red"),N[0]&262144&&m.value!==g[18]&&U(m,g[18])},d(g){g&&i(t),g&&i(o),g&&i(n),g&&i(v),g&&i(_),g&&i(d),g&&i(m),g&&i(C),g&&i(j),g&&i(L),g&&i(R),x=!1,St(oe)}}}function ur(e){let t,l,o,n,v,_,u,d,m,C,j,z;return{c(){t=f("span"),l=A("Operazione"),o=y(),n=f("select"),v=f("option"),_=A("Creazione"),u=f("option"),d=A("Rinnovo"),m=f("option"),C=A("Revoca"),this.h()},l(L){t=p(L,"SPAN",{class:!0});var R=E(t);l=P(R,"Operazione"),R.forEach(i),o=S(L),n=p(L,"SELECT",{class:!0});var x=E(n);v=p(x,"OPTION",{});var oe=E(v);_=P(oe,"Creazione"),oe.forEach(i),u=p(x,"OPTION",{});var g=E(u);d=P(g,"Rinnovo"),g.forEach(i),m=p(x,"OPTION",{});var N=E(m);C=P(N,"Revoca"),N.forEach(i),x.forEach(i),this.h()},h(){a(t,"class","col-span-1 flex items-center"),v.__value="Creazione",v.value=v.__value,u.__value="Rinnovo",u.value=u.__value,m.__value="Revoca",m.value=m.__value,a(n,"class","w-full py-2 px-4 mb-4 rounded-md border border-gray-300"),e[5]===void 0&&ut(()=>e[60].call(n))},m(L,R){b(L,t,R),s(t,l),b(L,o,R),b(L,n,R),s(n,v),s(v,_),s(n,u),s(u,d),s(n,m),s(m,C),Be(n,e[5]),j||(z=k(n,"change",e[60]),j=!0)},p(L,R){R[0]&32&&Be(n,L[5])},d(L){L&&i(t),L&&i(o),L&&i(n),j=!1,z()}}}function cr(e){let t,l,o,n,v,_;return{c(){t=f("label"),l=A("CSR"),o=y(),n=f("input"),this.h()},l(u){t=p(u,"LABEL",{for:!0});var d=E(t);l=P(d,"CSR"),d.forEach(i),o=S(u),n=p(u,"INPUT",{id:!0,type:!0,accept:!0,class:!0}),this.h()},h(){a(t,"for","file_csr"),a(n,"id","file_csr"),n.multiple=!0,a(n,"type","file"),a(n,"accept","*/*"),a(n,"class","w-full py-2 px-4 mb-4 rounded-md border border-gray-300")},m(u,d){b(u,t,d),s(t,l),b(u,o,d),b(u,n,d),v||(_=k(n,"change",e[38]),v=!0)},p:it,d(u){u&&i(t),u&&i(o),u&&i(n),v=!1,_()}}}function fr(e){let t,l,o,n,v,_;return{c(){t=f("label"),l=A("uuid"),o=y(),n=f("input"),this.h()},l(u){t=p(u,"LABEL",{for:!0});var d=E(t);l=P(d,"uuid"),d.forEach(i),o=S(u),n=p(u,"INPUT",{type:!0,id:!0,style:!0,class:!0}),this.h()},h(){a(t,"for","uuid_to_revoke"),a(n,"type","text"),a(n,"id","uuid_to_revoke"),W(n,"border-color",e[34]?"black":"red"),a(n,"class","svelte-1jnzdco")},m(u,d){b(u,t,d),s(t,l),b(u,o,d),b(u,n,d),U(n,e[19]),v||(_=k(n,"input",e[61]),v=!0)},p(u,d){d[1]&8&&W(n,"border-color",u[34]?"black":"red"),d[0]&524288&&n.value!==u[19]&&U(n,u[19])},d(u){u&&i(t),u&&i(o),u&&i(n),v=!1,_()}}}function Xr(e){let t,l,o,n,v,_,u,d,m,C,j,z,L,R,x,oe,g,N,V,Se,ie,ue,$,M,je,Te,ce,ge,fe,X,ee,Oe,Y,ne,se,ye,Le,w,ae,Je,Pe,Ne,Ge,de,he,Re,ke,We,me,te,Ie,ze,xe,_e,ve,He,Ve,Fe,be,Ee,qe,Ue,q,De,Q,Ke,F,we,re,r,c,h,pe,Qe,Ce,Ze,Me,$e,et,I,le,J,O=e[22]&&rr(),B=e[4]=="Gateway"&&lr(e),D=e[4]=="Terminology"&&ar(e),G=e[4]==="Provisioning"&&ur(e),H=e[4]==="Provisioning"&&(e[5]==="Creazione"||e[5]==="Rinnovo")&&cr(e),Ae=e[4]==="Provisioning"&&e[5]==="Revoca"&&fr(e);return{c(){t=f("div"),O&&O.c(),l=y(),o=f("div"),n=f("h1"),v=A("JWT Generation"),_=y(),u=f("form"),d=f("div"),m=f("div"),C=f("h2"),j=A("Certificato di Firma"),z=y(),L=f("label"),R=A(`PEM Signature:
						`),x=f("input"),oe=y(),g=f("br"),N=y(),V=f("label"),Se=A(`Private Key:
						`),ie=f("input"),ue=y(),$=f("div"),M=f("h2"),je=A("Sistema Target"),Te=y(),ce=f("span"),ge=A("Select Option:"),fe=y(),X=f("select"),ee=f("option"),Oe=A("Gateway"),Y=f("option"),ne=A("Terminology"),se=f("option"),ye=A("Provisioning"),Le=y(),w=f("div"),ae=f("h2"),Je=A("Data Json"),Pe=y(),Ne=f("label"),Ge=A("Subject"),de=y(),he=f("input"),Re=y(),ke=f("label"),We=A("aud"),me=y(),te=f("input"),Ie=y(),ze=f("label"),xe=A("jti"),_e=y(),ve=f("input"),He=y(),Ve=f("label"),Fe=A("Issuer"),be=y(),Ee=f("input"),qe=y(),B&&B.c(),Ue=y(),D&&D.c(),q=y(),G&&G.c(),De=y(),H&&H.c(),Q=y(),Ae&&Ae.c(),Ke=y(),F=f("div"),we=f("button"),re=A("GENERA JWT"),r=y(),c=f("div"),h=f("span"),pe=A("Authorization"),Qe=y(),Ce=f("input"),Ze=y(),Me=f("span"),$e=A("Signature"),et=y(),I=f("input"),this.h()},l(T){t=p(T,"DIV",{});var Z=E(t);O&&O.l(Z),l=S(Z),o=p(Z,"DIV",{class:!0});var nt=E(o);n=p(nt,"H1",{class:!0});var Pt=E(n);v=P(Pt,"JWT Generation"),Pt.forEach(i),_=S(nt),u=p(nt,"FORM",{});var Tt=E(u);d=p(Tt,"DIV",{class:!0});var tt=E(d);m=p(tt,"DIV",{class:!0});var rt=E(m);C=p(rt,"H2",{class:!0});var Rt=E(C);j=P(Rt,"Certificato di Firma"),Rt.forEach(i),z=S(rt),L=p(rt,"LABEL",{});var vt=E(L);R=P(vt,`PEM Signature:
						`),x=p(vt,"INPUT",{type:!0,accept:!0,class:!0}),vt.forEach(i),oe=S(rt),g=p(rt,"BR",{}),N=S(rt),V=p(rt,"LABEL",{});var bt=E(V);Se=P(bt,`Private Key:
						`),ie=p(bt,"INPUT",{type:!0,accept:!0,class:!0}),bt.forEach(i),rt.forEach(i),ue=S(tt),$=p(tt,"DIV",{class:!0});var st=E($);M=p(st,"H2",{class:!0});var It=E(M);je=P(It,"Sistema Target"),It.forEach(i),Te=S(st),ce=p(st,"SPAN",{class:!0});var Ct=E(ce);ge=P(Ct,"Select Option:"),Ct.forEach(i),fe=S(st),X=p(st,"SELECT",{class:!0});var pt=E(X);ee=p(pt,"OPTION",{});var jt=E(ee);Oe=P(jt,"Gateway"),jt.forEach(i),Y=p(pt,"OPTION",{});var Ot=E(Y);ne=P(Ot,"Terminology"),Ot.forEach(i),se=p(pt,"OPTION",{});var Lt=E(se);ye=P(Lt,"Provisioning"),Lt.forEach(i),pt.forEach(i),st.forEach(i),Le=S(tt),w=p(tt,"DIV",{class:!0});var K=E(w);ae=p(K,"H2",{class:!0});var Nt=E(ae);Je=P(Nt,"Data Json"),Nt.forEach(i),Pe=S(K),Ne=p(K,"LABEL",{for:!0});var Ht=E(Ne);Ge=P(Ht,"Subject"),Ht.forEach(i),de=S(K),he=p(K,"INPUT",{type:!0,id:!0,style:!0,class:!0}),Re=S(K),ke=p(K,"LABEL",{for:!0});var Ut=E(ke);We=P(Ut,"aud"),Ut.forEach(i),me=S(K),te=p(K,"INPUT",{type:!0,id:!0,style:!0,class:!0}),Ie=S(K),ze=p(K,"LABEL",{for:!0});var Dt=E(ze);xe=P(Dt,"jti"),Dt.forEach(i),_e=S(K),ve=p(K,"INPUT",{type:!0,id:!0,style:!0,class:!0}),He=S(K),Ve=p(K,"LABEL",{for:!0});var kt=E(Ve);Fe=P(kt,"Issuer"),kt.forEach(i),be=S(K),Ee=p(K,"INPUT",{type:!0,id:!0,style:!0,class:!0}),qe=S(K),B&&B.l(K),Ue=S(K),D&&D.l(K),q=S(K),G&&G.l(K),De=S(K),H&&H.l(K),Q=S(K),Ae&&Ae.l(K),K.forEach(i),Ke=S(tt),F=p(tt,"DIV",{class:!0});var zt=E(F);we=p(zt,"BUTTON",{type:!0,class:!0});var Vt=E(we);re=P(Vt,"GENERA JWT"),Vt.forEach(i),zt.forEach(i),tt.forEach(i),Tt.forEach(i),r=S(nt),c=p(nt,"DIV",{class:!0});var lt=E(c);h=p(lt,"SPAN",{class:!0});var Kt=E(h);pe=P(Kt,"Authorization"),Kt.forEach(i),Qe=S(lt),Ce=p(lt,"INPUT",{type:!0,class:!0}),Ze=S(lt),Me=p(lt,"SPAN",{class:!0});var Bt=E(Me);$e=P(Bt,"Signature"),Bt.forEach(i),et=S(lt),I=p(lt,"INPUT",{type:!0,class:!0}),lt.forEach(i),nt.forEach(i),Z.forEach(i),this.h()},h(){a(n,"class","pt-4 text-gray-700 text-2xl font-mono font-extrabold text-center mb-5"),a(C,"class","text-xl font-mono text-center mt-2"),x.required=!0,a(x,"type","file"),a(x,"accept","*/*"),a(x,"class","py-2 px-3 block w-full leading-5 rounded-md sm:text-sm sm:leading-5 col-span-2"),ie.required=!0,a(ie,"type","file"),a(ie,"accept","*/*"),a(ie,"class","py-2 px-3 block w-full leading-5 rounded-md sm:text-sm sm:leading-5 col-span-2"),a(m,"class","rounded-lg shadow-md px-4 font-mono border"),a(M,"class","text-xl font-mono text-center mt-4 col-span-3"),a(ce,"class","col-span-1 flex items-center"),ee.__value="Gateway",ee.value=ee.__value,Y.__value="Terminology",Y.value=Y.__value,se.__value="Provisioning",se.value=se.__value,a(X,"class","py-2 px-3 block w-full leading-5 rounded-md sm:text-sm sm:leading-5 col-span-2"),e[4]===void 0&&ut(()=>e[42].call(X)),a($,"class","grid grid-rows-3 grid-cols-3 rounded-lg shadow-md px-4 pb-4 font-mono border"),a(ae,"class","text-xl font-mono text-center mt-4 col-span-full"),a(Ne,"for","sub"),a(he,"type","text"),a(he,"id","sub"),W(he,"border-color",e[33]?"black":"red"),a(he,"class","svelte-1jnzdco"),a(ke,"for","aud"),a(te,"type","text"),a(te,"id","aud"),W(te,"border-color",e[31]?"black":"red"),a(te,"class","svelte-1jnzdco"),a(ze,"for","jti"),a(ve,"type","text"),a(ve,"id","jti"),W(ve,"border-color",e[30]?"black":"red"),a(ve,"class","svelte-1jnzdco"),a(Ve,"for","iss"),a(Ee,"type","text"),a(Ee,"id","iss"),W(Ee,"border-color",e[32]?"black":"red"),a(Ee,"class","svelte-1jnzdco"),a(w,"class","mt-10 col-span-2 grid grid-cols-2 md:grid-cols-4 gap-2 rounded-lg shadow-md px-4 pb-4 font-mono border items-center place-content-center"),a(we,"type","submit"),a(we,"class","rounded-md bg-green-500 text-white font-extrabold font-mono hover:bg-green-600 h-10 w-40 m-4"),a(F,"class","col-span-full p-4 text-center grid place-content-center content-center grid-flow-col gap-2"),a(d,"class","grid grid-cols-2 gap-2"),a(h,"class","col-span-1"),a(Ce,"type","text"),a(Ce,"class","h-10 border-2 border-gray-300 rounded-md py-2 px-4 block w-full leading-5 col-span-2 svelte-1jnzdco"),a(Me,"class","col-span-1"),a(I,"type","text"),a(I,"class","h-10 border-2 border-gray-300 rounded-md py-2 px-4 block w-full leading-5 col-span-2 svelte-1jnzdco"),a(c,"class","grid grid-cols-3"),a(o,"class","p-4 pt-20 md:w-3/4 mx-auto")},m(T,Z){b(T,t,Z),O&&O.m(t,null),s(t,l),s(t,o),s(o,n),s(n,v),s(o,_),s(o,u),s(u,d),s(d,m),s(m,C),s(C,j),s(m,z),s(m,L),s(L,R),s(L,x),s(m,oe),s(m,g),s(m,N),s(m,V),s(V,Se),s(V,ie),s(d,ue),s(d,$),s($,M),s(M,je),s($,Te),s($,ce),s(ce,ge),s($,fe),s($,X),s(X,ee),s(ee,Oe),s(X,Y),s(Y,ne),s(X,se),s(se,ye),Be(X,e[4]),s(d,Le),s(d,w),s(w,ae),s(ae,Je),s(w,Pe),s(w,Ne),s(Ne,Ge),s(w,de),s(w,he),U(he,e[8]),s(w,Re),s(w,ke),s(ke,We),s(w,me),s(w,te),U(te,e[14]),s(w,Ie),s(w,ze),s(ze,xe),s(w,_e),s(w,ve),U(ve,e[16]),s(w,He),s(w,Ve),s(Ve,Fe),s(w,be),s(w,Ee),U(Ee,e[9]),s(w,qe),B&&B.m(w,null),s(w,Ue),D&&D.m(w,null),s(w,q),G&&G.m(w,null),s(w,De),H&&H.m(w,null),s(w,Q),Ae&&Ae.m(w,null),s(d,Ke),s(d,F),s(F,we),s(we,re),s(o,r),s(o,c),s(c,h),s(h,pe),s(c,Qe),s(c,Ce),U(Ce,e[20]),s(c,Ze),s(c,Me),s(Me,$e),s(c,et),s(c,I),U(I,e[21]),le||(J=[k(x,"change",e[39]),k(ie,"change",e[40]),k(X,"change",e[42]),k(X,"change",e[35]),k(he,"input",e[43]),k(te,"input",e[44]),k(ve,"input",e[45]),k(Ee,"input",e[46]),k(u,"submit",Sr(e[41])),k(Ce,"input",e[62]),k(I,"input",e[63])],le=!0)},p(T,Z){T[22]?O||(O=rr(),O.c(),O.m(t,l)):O&&(O.d(1),O=null),Z[0]&16&&Be(X,T[4]),Z[1]&4&&W(he,"border-color",T[33]?"black":"red"),Z[0]&256&&he.value!==T[8]&&U(he,T[8]),Z[1]&1&&W(te,"border-color",T[31]?"black":"red"),Z[0]&16384&&te.value!==T[14]&&U(te,T[14]),Z[0]&1073741824&&W(ve,"border-color",T[30]?"black":"red"),Z[0]&65536&&ve.value!==T[16]&&U(ve,T[16]),Z[1]&2&&W(Ee,"border-color",T[32]?"black":"red"),Z[0]&512&&Ee.value!==T[9]&&U(Ee,T[9]),T[4]=="Gateway"?B?B.p(T,Z):(B=lr(T),B.c(),B.m(w,Ue)):B&&(B.d(1),B=null),T[4]=="Terminology"?D?D.p(T,Z):(D=ar(T),D.c(),D.m(w,q)):D&&(D.d(1),D=null),T[4]==="Provisioning"?G?G.p(T,Z):(G=ur(T),G.c(),G.m(w,De)):G&&(G.d(1),G=null),T[4]==="Provisioning"&&(T[5]==="Creazione"||T[5]==="Rinnovo")?H?H.p(T,Z):(H=cr(T),H.c(),H.m(w,Q)):H&&(H.d(1),H=null),T[4]==="Provisioning"&&T[5]==="Revoca"?Ae?Ae.p(T,Z):(Ae=fr(T),Ae.c(),Ae.m(w,null)):Ae&&(Ae.d(1),Ae=null),Z[0]&1048576&&Ce.value!==T[20]&&U(Ce,T[20]),Z[0]&2097152&&I.value!==T[21]&&U(I,T[21])},i:it,o:it,d(T){T&&i(t),O&&O.d(),B&&B.d(),D&&D.d(),G&&G.d(),H&&H.d(),Ae&&Ae.d(),le=!1,St(J)}}}function Yr(e){return e.length>0}function qr(e){return e.length>0}function Qr(e){return e.length>0}function Zr(e){return e.length>0}function $r(e){return e.length>0}function el(e){return e.length>0}function tl(e){return e.length>0}function rl(e){return e.length>0}function ll(e){return e.length>0}function ol(e){return e.length>0}function il(e){return console.log("Valido OID:"+e.length),e.length>0}function nl(e){return e.length>0}function sl(e){return e.replace("-----BEGIN PUBLIC KEY-----","").replace(/\r?\n|\r/g,"").replace("-----END PUBLIC KEY-----","").replace("-----BEGIN CERTIFICATE-----","").replace(/\r?\n|\r/g,"").replace("-----END CERTIFICATE-----","").replace(`
`,"")}function al(e,t,l){let o,n,v,_,u,d,m,C,j,z,L,R,x,oe,g,N,V="CREATE",Se="TREATMENT",ie="AAS",ue="Gateway",$="Creazione",M="",je="",Te,ce="PROVAX00X00X000Y^^^&amp;2.16.840.1.113883.2.9.4.3.2&amp;ISO",ge="S1#190201123456XX",fe="201123456",X="GTW",ee="GATEWAY",Oe="R2",Y="https://modipa-val.fse.salute.gov.it/govway/rest/in/FSE/gateway/v1",ne=!0,se="",ye="",Le="",w="";function ae(I){l(4,ue=I.target.value),l(8,ce="PROVAX00X00X000Y"),ue==="Terminology"?l(14,Y="https://modipa-val.fse.salute.gov.it/govway/rest/in/FSE/terminology/v1"):ue==="Provisioning"?l(14,Y="https://modipa-val.fse.salute.gov.it/govway/rest/in/FSE/provisioning/v1"):ue==="Gateway"&&(l(14,Y="https://modipa-val.fse.salute.gov.it/govway/rest/in/FSE/gateway/v1"),l(8,ce+="^^^&amp;2.16.840.1.113883.2.9.4.3.2&amp;ISO"))}const Je=I=>{Te=I.target.files[0],Te.name};let Pe,Ne="";const Ge=async I=>{Pe=I.target.files[0],Pe.name,Ne=await Re(Pe)},de=[],he=async I=>{const le=I.target.files;for(let J=0;J<le.length;J++){const O=le[J],B=await Re(O);de.push(B)}},Re=async I=>{const le=await I.arrayBuffer(),J=await crypto.subtle.digest("SHA-256",le);return Array.from(new Uint8Array(J)).map(D=>D.toString(16).padStart(2,"0")).join("")};function ke(I){const le=I.target.files[0],J=new FileReader;J.onload=function(O){g=sl(O.target.result)},J.onerror=function(O){console.error("Error reading the file")},J.readAsText(le)}function We(I){const le=I.target.files[0],J=new FileReader;J.onload=function(O){N=O.target.result},J.onerror=function(O){console.error("Error reading the file")},J.readAsText(le)}let me="",te="",Ie=!1;async function ze(){if(xe()&&_e()&&ve()){const le="RS256",J="JWT",O=[g];l(20,me=await He(le,J,O)),l(21,te=await Ve(le,J,O))}l(22,Ie=!1)}function xe(){return l(33,v=Qr(ce)),l(32,_=Zr(ge)),l(31,j=ll(Y)),l(30,z=ol(se)),v&&_&&j&&z}function _e(){let I=!0;return ue=="Gateway"&&(l(29,u=$r(fe)),l(28,d=el(X)),l(27,m=tl(ee)),l(26,C=rl(Oe)),l(25,n=qr(je)),o=Yr(M),I=u&&d&&m&&C&&n&&o),I}function ve(){let I=!0;return ue=="Terminology"&&(l(24,L=il(ye)),l(23,R=nl(Le)),I=L&&R,console.log(I)),I}function He(I,le,J){return new Promise((O,B)=>{Yt(N,I).then(D=>new Qt({}).setProtectedHeader({alg:I,typ:le,x5c:J}).setSubject(ce).setAudience(Y).setIssuedAt().setIssuer("auth:"+ge).setExpirationTime("24h").setJti(se).sign(D)).then(D=>{O(D.toString())}).catch(D=>{console.error(D),B(D)})})}function Ve(I,le,J){let O=[];return ue=="Gateway"?O={sub:ce,subject_role:ie,purpose_of_use:Se,iss:ge,locality:fe,subject_application_id:X,subject_application_vendor:ee,subject_application_version:Oe,aud:Y,patient_consent:ne,jti:se,action_id:V,resource_hl7_type,person_id:M}:ue=="Terminology"?O={oid:ye,version:Le,file_hash_terminology:Ne}:ue=="Provisioning"&&($==="Revoca"?O={vector_id:w===""?null:w}:($==="Creazione"||$==="Rinnovo")&&(O={vector_hash_csr:de})),new Promise((B,D)=>{Yt(N,I).then(G=>new Qt(O).setProtectedHeader({alg:I,typ:le,x5c:J}).setSubject(ce).setAudience(Y).setIssuedAt().setIssuer("integrity:"+ge).setExpirationTime("24h").setJti(se).sign(G)).then(G=>{B(G.toString())}).catch(G=>{console.error(G),D(G)})})}function Fe(){ue=at(this),l(4,ue)}function be(){ce=this.value,l(8,ce)}function Ee(){Y=this.value,l(14,Y)}function qe(){se=this.value,l(16,se)}function Ue(){ge=this.value,l(9,ge)}function q(){ie=at(this),l(3,ie)}function De(){fe=this.value,l(10,fe)}function Q(){ee=this.value,l(12,ee)}function Ke(){X=this.value,l(11,X)}function F(){Oe=this.value,l(13,Oe)}function we(){ne=this.value,l(15,ne)}function re(){oe=at(this),l(0,oe)}function r(){V=at(this),l(1,V)}function c(){Se=at(this),l(2,Se)}function h(){je=this.value,l(7,je)}function pe(){M=this.value,l(6,M)}function Qe(){ye=this.value,l(17,ye)}function Ce(){Le=this.value,l(18,Le)}function Ze(){$=at(this),l(5,$)}function Me(){w=this.value,l(19,w)}function $e(){me=this.value,l(20,me)}function et(){te=this.value,l(21,te)}return o=!0,l(25,n=!0),l(33,v=!0),l(32,_=!0),l(29,u=!0),l(28,d=!0),l(27,m=!0),l(26,C=!0),l(31,j=!0),l(30,z=!0),l(24,L=!0),l(23,R=!0),l(34,x=!0),[oe,V,Se,ie,ue,$,M,je,ce,ge,fe,X,ee,Oe,Y,ne,se,ye,Le,w,me,te,Ie,R,L,n,C,m,d,u,z,j,_,v,x,ae,Je,Ge,he,ke,We,ze,Fe,be,Ee,qe,Ue,q,De,Q,Ke,F,we,re,r,c,h,pe,Qe,Ce,Ze,Me,$e,et]}class fl extends mr{constructor(t){super(),Er(this,t,al,Xr,yr,{},null,[-1,-1,-1])}}export{fl as component,cl as universal};
