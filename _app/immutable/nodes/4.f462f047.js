import{S as ar,i as sr,s as ir,k as c,a as S,q as w,l as f,m as y,c as g,r as A,h as n,n as i,Q as tt,p as le,b as v,D as a,R as De,T as D,I as B,U as ur,E as Ze,J as dt,P as rt,V as $e}from"../chunks/index.f3787bc2.js";const cr=!0,qr=Object.freeze(Object.defineProperty({__proto__:null,prerender:cr},Symbol.toStringTag,{value:"Module"})),Ot=[{value:"AAS",text:"Personale di assistenza ad alta specializzazione"},{value:"APR",text:"Medico Medicina Generale Pediatra di Libera Scelta"},{value:"PSS",text:"Professionista del sociale"},{value:"INF",text:"Personale infermieristico"},{value:"FAR",text:"Farmacista"},{value:"DSA",text:"Direttore sanitario"},{value:"DAM",text:"Direttore amministrativo"},{value:"OAM",text:"Operatore amministrativo"},{value:"ASS",text:"Assistito"},{value:"TUT",text:"Tutore"},{value:"ING",text:"Informal giver (Assistito)"},{value:"GEN",text:"Genitore Assistito"},{value:"NOR",text:"Nodo regionale"},{value:"DRS",text:"Dirigente sanitario"},{value:"RSA",text:"Medico RSA"},{value:"MRP",text:"Medico Rete di Patologia"},{value:"INI",text:"Infrastruttura Nazionale per l’Interoperabilità"},{value:"OGC",text:"Operatore per la gestione dei consensi"},{value:"OPI",text:"Operatore di informativa"},{value:"MDS",text:"Ruolo del Ministero della Salute per la gestione del DGC"}],Ht=[{value:"TREATMENT",text:"Trattamento di cura ordinario"},{value:"EMERGENCY",text:"Trattamento in emergenza"},{value:"PUBEMERGENCY",text:"Trattamento per la salvaguardia di un terzo o della collettività"},{value:"SYSADMIN",text:"Trasferimento del FSE"},{value:"PERSONAL",text:"Consultazione del FSE"},{value:"UPDATE",text:"Invalidamento e aggiornamento di un documento"},{value:"CONSENT",text:"Comunicazione valori consensi"},{value:"ADMINISTRATIVE",text:"Operazioni amministrative"}],xt=[{value:"CREATE",text:"CREATE"},{value:"UPDATE",text:"UPDATE"},{value:"DELETE",text:"DELETE"},{value:"REPLACE",text:"REPLACE"}],Dt=[{value:"010",text:"Regione Piemonte"},{value:"020",text:"Regione Valle dAosta"},{value:"030",text:"Regione Lombardia"},{value:"041",text:"P.A. Bolzano"},{value:"042",text:"P.A. Trento"},{value:"050",text:"Regione Veneto"},{value:"060",text:"Regione Friuli Venezia Giulia"},{value:"070",text:"Regione Liguria"},{value:"080",text:"Regione Emilia-Romagna"},{value:"090",text:"Regione Toscana"},{value:"100",text:"Regione Umbria"},{value:"110",text:"Regione Marche"},{value:"120",text:"Regione Lazio"},{value:"130",text:"Regione Abruzzo"},{value:"140",text:"Regione Molise"},{value:"150",text:"Regione Campania"},{value:"160",text:"Regione Puglia"},{value:"170",text:"Regione Basilicata"},{value:"180",text:"Regione Calabria"},{value:"190",text:"Regione Sicilia"},{value:"200",text:"Regione Sardegna"},{value:"000",text:"INI"},{value:"001",text:"SASN"},{value:"999",text:"MDS"}],pt=crypto,er=t=>t instanceof CryptoKey,Qe=new TextEncoder,Ut=new TextDecoder;function fr(...t){const e=t.reduce((s,{length:m})=>s+m,0),l=new Uint8Array(e);let o=0;return t.forEach(s=>{l.set(s,o),o+=s.length}),l}const dr=t=>{let e=t;typeof e=="string"&&(e=Qe.encode(e));const l=32768,o=[];for(let s=0;s<e.length;s+=l)o.push(String.fromCharCode.apply(null,e.subarray(s,s+l)));return btoa(o.join(""))},ut=t=>dr(t).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_");class ht extends Error{static get code(){return"ERR_JOSE_GENERIC"}constructor(e){var l;super(e),this.code="ERR_JOSE_GENERIC",this.name=this.constructor.name,(l=Error.captureStackTrace)===null||l===void 0||l.call(Error,this,this.constructor)}}class ot extends ht{constructor(){super(...arguments),this.code="ERR_JOSE_NOT_SUPPORTED"}static get code(){return"ERR_JOSE_NOT_SUPPORTED"}}class et extends ht{constructor(){super(...arguments),this.code="ERR_JWS_INVALID"}static get code(){return"ERR_JWS_INVALID"}}class pr extends ht{constructor(){super(...arguments),this.code="ERR_JWT_INVALID"}static get code(){return"ERR_JWT_INVALID"}}function Me(t,e="algorithm.name"){return new TypeError(`CryptoKey does not support this operation, its ${e} must be ${t}`)}function lt(t,e){return t.name===e}function ct(t){return parseInt(t.name.slice(4),10)}function hr(t){switch(t){case"ES256":return"P-256";case"ES384":return"P-384";case"ES512":return"P-521";default:throw new Error("unreachable")}}function _r(t,e){if(e.length&&!e.some(l=>t.usages.includes(l))){let l="CryptoKey does not support this operation, its usages must include ";if(e.length>2){const o=e.pop();l+=`one of ${e.join(", ")}, or ${o}.`}else e.length===2?l+=`one of ${e[0]} or ${e[1]}.`:l+=`${e[0]}.`;throw new TypeError(l)}}function mr(t,e,...l){switch(e){case"HS256":case"HS384":case"HS512":{if(!lt(t.algorithm,"HMAC"))throw Me("HMAC");const o=parseInt(e.slice(2),10);if(ct(t.algorithm.hash)!==o)throw Me(`SHA-${o}`,"algorithm.hash");break}case"RS256":case"RS384":case"RS512":{if(!lt(t.algorithm,"RSASSA-PKCS1-v1_5"))throw Me("RSASSA-PKCS1-v1_5");const o=parseInt(e.slice(2),10);if(ct(t.algorithm.hash)!==o)throw Me(`SHA-${o}`,"algorithm.hash");break}case"PS256":case"PS384":case"PS512":{if(!lt(t.algorithm,"RSA-PSS"))throw Me("RSA-PSS");const o=parseInt(e.slice(2),10);if(ct(t.algorithm.hash)!==o)throw Me(`SHA-${o}`,"algorithm.hash");break}case"EdDSA":{if(t.algorithm.name!=="Ed25519"&&t.algorithm.name!=="Ed448")throw Me("Ed25519 or Ed448");break}case"ES256":case"ES384":case"ES512":{if(!lt(t.algorithm,"ECDSA"))throw Me("ECDSA");const o=hr(e);if(t.algorithm.namedCurve!==o)throw Me(o,"algorithm.namedCurve");break}default:throw new TypeError("CryptoKey does not support this operation")}_r(t,l)}function tr(t,e,...l){if(l.length>2){const o=l.pop();t+=`one of type ${l.join(", ")}, or ${o}.`}else l.length===2?t+=`one of type ${l[0]} or ${l[1]}.`:t+=`of type ${l[0]}.`;return e==null?t+=` Received ${e}`:typeof e=="function"&&e.name?t+=` Received function ${e.name}`:typeof e=="object"&&e!=null&&e.constructor&&e.constructor.name&&(t+=` Received an instance of ${e.constructor.name}`),t}const Vt=(t,...e)=>tr("Key must be ",t,...e);function rr(t,e,...l){return tr(`Key for the ${t} algorithm must be `,e,...l)}const lr=t=>er(t),Ue=["CryptoKey"],br=(...t)=>{const e=t.filter(Boolean);if(e.length===0||e.length===1)return!0;let l;for(const o of e){const s=Object.keys(o);if(!l||l.size===0){l=new Set(s);continue}for(const m of s){if(l.has(m))return!1;l.add(m)}}return!0};function vr(t){return typeof t=="object"&&t!==null}function Er(t){if(!vr(t)||Object.prototype.toString.call(t)!=="[object Object]")return!1;if(Object.getPrototypeOf(t)===null)return!0;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}const yr=(t,e)=>{if(t.startsWith("RS")||t.startsWith("PS")){const{modulusLength:l}=e.algorithm;if(typeof l!="number"||l<2048)throw new TypeError(`${t} requires key modulusLength to be 2048 bits or larger`)}},Fe=(t,e,l=0)=>{l===0&&(e.unshift(e.length),e.unshift(6));let o=t.indexOf(e[0],l);if(o===-1)return!1;const s=t.subarray(o,o+e.length);return s.length!==e.length?!1:s.every((m,p)=>m===e[p])||Fe(t,e,o+1)},Kt=t=>{switch(!0){case Fe(t,[42,134,72,206,61,3,1,7]):return"P-256";case Fe(t,[43,129,4,0,34]):return"P-384";case Fe(t,[43,129,4,0,35]):return"P-521";case Fe(t,[43,101,110]):return"X25519";case Fe(t,[43,101,111]):return"X448";case Fe(t,[43,101,112]):return"Ed25519";case Fe(t,[43,101,113]):return"Ed448";default:throw new ot("Invalid or unsupported EC Key Curve or OKP Key Sub Type")}},Sr=async(t,e,l,o,s)=>{var m;let p,b;const h=new Uint8Array(atob(l.replace(t,"")).split("").map(P=>P.charCodeAt(0))),_=e==="spki";switch(o){case"PS256":case"PS384":case"PS512":p={name:"RSA-PSS",hash:`SHA-${o.slice(-3)}`},b=_?["verify"]:["sign"];break;case"RS256":case"RS384":case"RS512":p={name:"RSASSA-PKCS1-v1_5",hash:`SHA-${o.slice(-3)}`},b=_?["verify"]:["sign"];break;case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":p={name:"RSA-OAEP",hash:`SHA-${parseInt(o.slice(-3),10)||1}`},b=_?["encrypt","wrapKey"]:["decrypt","unwrapKey"];break;case"ES256":p={name:"ECDSA",namedCurve:"P-256"},b=_?["verify"]:["sign"];break;case"ES384":p={name:"ECDSA",namedCurve:"P-384"},b=_?["verify"]:["sign"];break;case"ES512":p={name:"ECDSA",namedCurve:"P-521"},b=_?["verify"]:["sign"];break;case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":{const P=Kt(h);p=P.startsWith("P-")?{name:"ECDH",namedCurve:P}:{name:P},b=_?[]:["deriveBits"];break}case"EdDSA":p={name:Kt(h)},b=_?["verify"]:["sign"];break;default:throw new ot('Invalid or unsupported "alg" (Algorithm) value')}return pt.subtle.importKey(e,h,p,(m=s==null?void 0:s.extractable)!==null&&m!==void 0?m:!1,b)},gr=(t,e,l)=>Sr(/(?:-----(?:BEGIN|END) PRIVATE KEY-----|\s)/g,"pkcs8",t,e,l);async function Mt(t,e,l){if(typeof t!="string"||t.indexOf("-----BEGIN PRIVATE KEY-----")!==0)throw new TypeError('"pkcs8" must be PKCS#8 formatted string');return gr(t,e,l)}const wr=(t,e)=>{if(!(e instanceof Uint8Array)){if(!lr(e))throw new TypeError(rr(t,e,...Ue,"Uint8Array"));if(e.type!=="secret")throw new TypeError(`${Ue.join(" or ")} instances for symmetric algorithms must be of type "secret"`)}},Ar=(t,e,l)=>{if(!lr(e))throw new TypeError(rr(t,e,...Ue));if(e.type==="secret")throw new TypeError(`${Ue.join(" or ")} instances for asymmetric algorithms must not be of type "secret"`);if(l==="sign"&&e.type==="public")throw new TypeError(`${Ue.join(" or ")} instances for asymmetric algorithm signing must be of type "private"`);if(l==="decrypt"&&e.type==="public")throw new TypeError(`${Ue.join(" or ")} instances for asymmetric algorithm decryption must be of type "private"`);if(e.algorithm&&l==="verify"&&e.type==="private")throw new TypeError(`${Ue.join(" or ")} instances for asymmetric algorithm verifying must be of type "public"`);if(e.algorithm&&l==="encrypt"&&e.type==="private")throw new TypeError(`${Ue.join(" or ")} instances for asymmetric algorithm encryption must be of type "public"`)},Tr=(t,e,l)=>{t.startsWith("HS")||t==="dir"||t.startsWith("PBES2")||/^A\d{3}(?:GCM)?KW$/.test(t)?wr(t,e):Ar(t,e,l)};function Pr(t,e,l,o,s){if(s.crit!==void 0&&o.crit===void 0)throw new t('"crit" (Critical) Header Parameter MUST be integrity protected');if(!o||o.crit===void 0)return new Set;if(!Array.isArray(o.crit)||o.crit.length===0||o.crit.some(p=>typeof p!="string"||p.length===0))throw new t('"crit" (Critical) Header Parameter MUST be an array of non-empty strings when present');let m;l!==void 0?m=new Map([...Object.entries(l),...e.entries()]):m=e;for(const p of o.crit){if(!m.has(p))throw new ot(`Extension Header Parameter "${p}" is not recognized`);if(s[p]===void 0)throw new t(`Extension Header Parameter "${p}" is missing`);if(m.get(p)&&o[p]===void 0)throw new t(`Extension Header Parameter "${p}" MUST be integrity protected`)}return new Set(o.crit)}function Ir(t,e){const l=`SHA-${t.slice(-3)}`;switch(t){case"HS256":case"HS384":case"HS512":return{hash:l,name:"HMAC"};case"PS256":case"PS384":case"PS512":return{hash:l,name:"RSA-PSS",saltLength:t.slice(-3)>>3};case"RS256":case"RS384":case"RS512":return{hash:l,name:"RSASSA-PKCS1-v1_5"};case"ES256":case"ES384":case"ES512":return{hash:l,name:"ECDSA",namedCurve:e.namedCurve};case"EdDSA":return{name:e.name};default:throw new ot(`alg ${t} is not supported either by JOSE or your javascript runtime`)}}function Rr(t,e,l){if(er(e))return mr(e,t,l),e;if(e instanceof Uint8Array){if(!t.startsWith("HS"))throw new TypeError(Vt(e,...Ue));return pt.subtle.importKey("raw",e,{hash:`SHA-${t.slice(-3)}`,name:"HMAC"},!1,[l])}throw new TypeError(Vt(e,...Ue,"Uint8Array"))}const ft=t=>Math.floor(t.getTime()/1e3),or=60,nr=or*60,_t=nr*24,Cr=_t*7,jr=_t*365.25,Lr=/^(\d+|\d+\.\d+) ?(seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)$/i,zt=t=>{const e=Lr.exec(t);if(!e)throw new TypeError("Invalid time period format");const l=parseFloat(e[1]);switch(e[2].toLowerCase()){case"sec":case"secs":case"second":case"seconds":case"s":return Math.round(l);case"minute":case"minutes":case"min":case"mins":case"m":return Math.round(l*or);case"hour":case"hours":case"hr":case"hrs":case"h":return Math.round(l*nr);case"day":case"days":case"d":return Math.round(l*_t);case"week":case"weeks":case"w":return Math.round(l*Cr);default:return Math.round(l*jr)}},Nr=async(t,e,l)=>{const o=await Rr(t,e,"sign");yr(t,o);const s=await pt.subtle.sign(Ir(t,o.algorithm),o,l);return new Uint8Array(s)};class Or{constructor(e){if(!(e instanceof Uint8Array))throw new TypeError("payload must be an instance of Uint8Array");this._payload=e}setProtectedHeader(e){if(this._protectedHeader)throw new TypeError("setProtectedHeader can only be called once");return this._protectedHeader=e,this}setUnprotectedHeader(e){if(this._unprotectedHeader)throw new TypeError("setUnprotectedHeader can only be called once");return this._unprotectedHeader=e,this}async sign(e,l){if(!this._protectedHeader&&!this._unprotectedHeader)throw new et("either setProtectedHeader or setUnprotectedHeader must be called before #sign()");if(!br(this._protectedHeader,this._unprotectedHeader))throw new et("JWS Protected and JWS Unprotected Header Parameter names must be disjoint");const o={...this._protectedHeader,...this._unprotectedHeader},s=Pr(et,new Map([["b64",!0]]),l==null?void 0:l.crit,this._protectedHeader,o);let m=!0;if(s.has("b64")&&(m=this._protectedHeader.b64,typeof m!="boolean"))throw new et('The "b64" (base64url-encode payload) Header Parameter must be a boolean');const{alg:p}=o;if(typeof p!="string"||!p)throw new et('JWS "alg" (Algorithm) Header Parameter missing or invalid');Tr(p,e,"sign");let b=this._payload;m&&(b=Qe.encode(ut(b)));let h;this._protectedHeader?h=Qe.encode(ut(JSON.stringify(this._protectedHeader))):h=Qe.encode("");const _=fr(h,Qe.encode("."),b),P=await Nr(p,e,_),R={signature:ut(P),payload:""};return m&&(R.payload=Ut.decode(b)),this._unprotectedHeader&&(R.header=this._unprotectedHeader),this._protectedHeader&&(R.protected=Ut.decode(h)),R}}class Hr{constructor(e){this._flattened=new Or(e)}setProtectedHeader(e){return this._flattened.setProtectedHeader(e),this}async sign(e,l){const o=await this._flattened.sign(e,l);if(o.payload===void 0)throw new TypeError("use the flattened module for creating JWS with b64: false");return`${o.protected}.${o.payload}.${o.signature}`}}class xr{constructor(e){if(!Er(e))throw new TypeError("JWT Claims Set MUST be an object");this._payload=e}setIssuer(e){return this._payload={...this._payload,iss:e},this}setSubject(e){return this._payload={...this._payload,sub:e},this}setAudience(e){return this._payload={...this._payload,aud:e},this}setJti(e){return this._payload={...this._payload,jti:e},this}setNotBefore(e){return typeof e=="number"?this._payload={...this._payload,nbf:e}:this._payload={...this._payload,nbf:ft(new Date)+zt(e)},this}setExpirationTime(e){return typeof e=="number"?this._payload={...this._payload,exp:e}:this._payload={...this._payload,exp:ft(new Date)+zt(e)},this}setIssuedAt(e){return typeof e>"u"?this._payload={...this._payload,iat:ft(new Date)}:this._payload={...this._payload,iat:e},this}}class Bt extends xr{setProtectedHeader(e){return this._protectedHeader=e,this}async sign(e,l){var o;const s=new Hr(Qe.encode(JSON.stringify(this._payload)));if(s.setProtectedHeader(this._protectedHeader),Array.isArray((o=this._protectedHeader)===null||o===void 0?void 0:o.crit)&&this._protectedHeader.crit.includes("b64")&&this._protectedHeader.b64===!1)throw new pr("JWTs MUST NOT use unencoded payload");return s.sign(e,l)}}function kt(t,e,l){const o=t.slice();return o[67]=e[l].value,o[68]=e[l].text,o}function Jt(t,e,l){const o=t.slice();return o[67]=e[l].value,o[68]=e[l].text,o}function Gt(t,e,l){const o=t.slice();return o[67]=e[l].value,o[68]=e[l].text,o[73]=e[l].organization,o[74]=e[l].organization_id,o}function Wt(t,e,l){const o=t.slice();return o[67]=e[l].value,o[68]=e[l].text,o}function Ft(t){let e,l,o,s,m,p,b,h,_;return{c(){e=c("div"),l=c("div"),o=c("div"),s=S(),m=c("div"),p=S(),b=c("div"),h=S(),_=c("div"),this.h()},l(P){e=f(P,"DIV",{class:!0});var R=y(e);l=f(R,"DIV",{class:!0});var U=y(l);o=f(U,"DIV",{}),y(o).forEach(n),s=g(U),m=f(U,"DIV",{}),y(m).forEach(n),p=g(U),b=f(U,"DIV",{}),y(b).forEach(n),h=g(U),_=f(U,"DIV",{}),y(_).forEach(n),U.forEach(n),R.forEach(n),this.h()},h(){i(l,"class","spin"),i(e,"class","overflow-hidden w-full h-full absolute bg-gray-800/40 p-0 z-50 grid items-center content-center")},m(P,R){v(P,e,R),a(e,l),a(l,o),a(l,s),a(l,m),a(l,p),a(l,b),a(l,h),a(l,_)},d(P){P&&n(e)}}}function Yt(t){let e,l,o,s,m,p,b,h,_,P,R,U,$,N,q,oe,E,C,j,Se,V,be,Q,x,ge,fe,ne,we,G,k,W,Ve,ve,ee,Ie,T,Re,He,ue,pe,he,xe,ae,ce,Ae,Te,Ke,se,Ee,Ce,ze,je=Ot,L=[];for(let r=0;r<je.length;r+=1)L[r]=Xt(Wt(t,je,r));let Le=Dt,K=[];for(let r=0;r<Le.length;r+=1)K[r]=qt(Gt(t,Le,r));let Ne=xt,F=[];for(let r=0;r<Ne.length;r+=1)F[r]=Qt(Jt(t,Ne,r));let Z=Ht,Y=[];for(let r=0;r<Z.length;r+=1)Y[r]=Zt(kt(t,Z,r));return{c(){e=c("label"),l=w("Subject Role"),o=S(),s=c("select");for(let r=0;r<L.length;r+=1)L[r].c();m=S(),p=c("label"),b=w("Locality"),h=S(),_=c("input"),P=S(),R=c("label"),U=w("Subject application vendor"),$=S(),N=c("input"),q=S(),oe=c("label"),E=w("Subject application id"),C=S(),j=c("input"),Se=S(),V=c("label"),be=w("Subject application version"),Q=S(),x=c("input"),ge=S(),fe=c("label"),ne=w("Patient consent"),we=S(),G=c("input"),k=S(),W=c("label"),Ve=w("Subject organization"),ve=S(),ee=c("select");for(let r=0;r<K.length;r+=1)K[r].c();Ie=S(),T=c("label"),Re=w("Action id"),He=S(),ue=c("select");for(let r=0;r<F.length;r+=1)F[r].c();pe=S(),he=c("label"),xe=w("Purpose of use"),ae=S(),ce=c("select");for(let r=0;r<Y.length;r+=1)Y[r].c();Ae=S(),Te=c("label"),Ke=w("pdf"),se=S(),Ee=c("input"),this.h()},l(r){e=f(r,"LABEL",{for:!0});var d=y(e);l=A(d,"Subject Role"),d.forEach(n),o=g(r),s=f(r,"SELECT",{class:!0});var u=y(s);for(let M=0;M<L.length;M+=1)L[M].l(u);u.forEach(n),m=g(r),p=f(r,"LABEL",{for:!0});var z=y(p);b=A(z,"Locality"),z.forEach(n),h=g(r),_=f(r,"INPUT",{type:!0,id:!0,style:!0,class:!0}),P=g(r),R=f(r,"LABEL",{for:!0});var Be=y(R);U=A(Be,"Subject application vendor"),Be.forEach(n),$=g(r),N=f(r,"INPUT",{type:!0,id:!0,style:!0,class:!0}),q=g(r),oe=f(r,"LABEL",{for:!0});var ke=y(oe);E=A(ke,"Subject application id"),ke.forEach(n),C=g(r),j=f(r,"INPUT",{type:!0,id:!0,style:!0,class:!0}),Se=g(r),V=f(r,"LABEL",{for:!0});var de=y(V);be=A(de,"Subject application version"),de.forEach(n),Q=g(r),x=f(r,"INPUT",{type:!0,id:!0,style:!0,class:!0}),ge=g(r),fe=f(r,"LABEL",{for:!0});var I=y(fe);ne=A(I,"Patient consent"),I.forEach(n),we=g(r),G=f(r,"INPUT",{type:!0,id:!0,class:!0}),k=g(r),W=f(r,"LABEL",{for:!0});var ie=y(W);Ve=A(ie,"Subject organization"),ie.forEach(n),ve=g(r),ee=f(r,"SELECT",{class:!0});var J=y(ee);for(let M=0;M<K.length;M+=1)K[M].l(J);J.forEach(n),Ie=g(r),T=f(r,"LABEL",{for:!0});var H=y(T);Re=A(H,"Action id"),H.forEach(n),He=g(r),ue=f(r,"SELECT",{class:!0});var Oe=y(ue);for(let M=0;M<F.length;M+=1)F[M].l(Oe);Oe.forEach(n),pe=g(r),he=f(r,"LABEL",{for:!0});var te=y(he);xe=A(te,"Purpose of use"),te.forEach(n),ae=g(r),ce=f(r,"SELECT",{class:!0});var Pe=y(ce);for(let M=0;M<Y.length;M+=1)Y[M].l(Pe);Pe.forEach(n),Ae=g(r),Te=f(r,"LABEL",{for:!0});var Ye=y(Te);Ke=A(Ye,"pdf"),Ye.forEach(n),se=g(r),Ee=f(r,"INPUT",{id:!0,type:!0,accept:!0,class:!0}),this.h()},h(){i(e,"for","subject_role_enum"),i(s,"class","w-full py-2 px-4 mb-4 rounded-md border border-gray-300"),t[3]===void 0&&tt(()=>t[40].call(s)),i(p,"for","locality"),i(_,"type","text"),i(_,"id","locality"),le(_,"border-color",t[24]?"black":"red"),i(_,"class","svelte-1jnzdco"),i(R,"for","subject_application_vendor"),i(N,"type","text"),i(N,"id","subject_application_vendor"),le(N,"border-color",t[22]?"black":"red"),i(N,"class","svelte-1jnzdco"),i(oe,"for","subject_application_id"),i(j,"type","text"),i(j,"id","subject_application_id"),le(j,"border-color",t[23]?"black":"red"),i(j,"class","svelte-1jnzdco"),i(V,"for","subject_application_version"),i(x,"type","text"),i(x,"id","subject_application_version"),le(x,"border-color",t[21]?"black":"red"),i(x,"class","svelte-1jnzdco"),i(fe,"for","patient_consent"),i(G,"type","checkbox"),i(G,"id","patient_consent"),i(G,"class","svelte-1jnzdco"),i(W,"for","subject_organization"),i(ee,"class","w-full py-2 px-4 mb-4 rounded-md border border-gray-300"),t[0]===void 0&&tt(()=>t[46].call(ee)),i(T,"for","action_id_enum"),i(ue,"class","w-full py-2 px-4 mb-4 rounded-md border border-gray-300"),t[1]===void 0&&tt(()=>t[47].call(ue)),i(he,"for","purpose_of_use_enum"),i(ce,"class","w-full py-2 px-4 mb-4 rounded-md border border-gray-300"),t[2]===void 0&&tt(()=>t[48].call(ce)),i(Te,"for","pdf"),i(Ee,"id","pdf"),i(Ee,"type","file"),i(Ee,"accept","application/pdf"),i(Ee,"class","w-full py-2 px-4 mb-4 rounded-md border border-gray-300")},m(r,d){v(r,e,d),a(e,l),v(r,o,d),v(r,s,d);for(let u=0;u<L.length;u+=1)L[u].m(s,null);De(s,t[3]),v(r,m,d),v(r,p,d),a(p,b),v(r,h,d),v(r,_,d),D(_,t[7]),v(r,P,d),v(r,R,d),a(R,U),v(r,$,d),v(r,N,d),D(N,t[9]),v(r,q,d),v(r,oe,d),a(oe,E),v(r,C,d),v(r,j,d),D(j,t[8]),v(r,Se,d),v(r,V,d),a(V,be),v(r,Q,d),v(r,x,d),D(x,t[10]),v(r,ge,d),v(r,fe,d),a(fe,ne),v(r,we,d),v(r,G,d),D(G,t[12]),v(r,k,d),v(r,W,d),a(W,Ve),v(r,ve,d),v(r,ee,d);for(let u=0;u<K.length;u+=1)K[u].m(ee,null);De(ee,t[0]),v(r,Ie,d),v(r,T,d),a(T,Re),v(r,He,d),v(r,ue,d);for(let u=0;u<F.length;u+=1)F[u].m(ue,null);De(ue,t[1]),v(r,pe,d),v(r,he,d),a(he,xe),v(r,ae,d),v(r,ce,d);for(let u=0;u<Y.length;u+=1)Y[u].m(ce,null);De(ce,t[2]),v(r,Ae,d),v(r,Te,d),a(Te,Ke),v(r,se,d),v(r,Ee,d),Ce||(ze=[B(s,"change",t[40]),B(_,"input",t[41]),B(N,"input",t[42]),B(j,"input",t[43]),B(x,"input",t[44]),B(G,"change",t[45]),B(ee,"change",t[46]),B(ue,"change",t[47]),B(ce,"change",t[48]),B(Ee,"change",t[30])],Ce=!0)},p(r,d){if(d&0){je=Ot;let u;for(u=0;u<je.length;u+=1){const z=Wt(r,je,u);L[u]?L[u].p(z,d):(L[u]=Xt(z),L[u].c(),L[u].m(s,null))}for(;u<L.length;u+=1)L[u].d(1);L.length=je.length}if(d[0]&8&&De(s,r[3]),d[0]&16777216&&le(_,"border-color",r[24]?"black":"red"),d[0]&128&&_.value!==r[7]&&D(_,r[7]),d[0]&4194304&&le(N,"border-color",r[22]?"black":"red"),d[0]&512&&N.value!==r[9]&&D(N,r[9]),d[0]&8388608&&le(j,"border-color",r[23]?"black":"red"),d[0]&256&&j.value!==r[8]&&D(j,r[8]),d[0]&2097152&&le(x,"border-color",r[21]?"black":"red"),d[0]&1024&&x.value!==r[10]&&D(x,r[10]),d[0]&4096&&D(G,r[12]),d&0){Le=Dt;let u;for(u=0;u<Le.length;u+=1){const z=Gt(r,Le,u);K[u]?K[u].p(z,d):(K[u]=qt(z),K[u].c(),K[u].m(ee,null))}for(;u<K.length;u+=1)K[u].d(1);K.length=Le.length}if(d[0]&1&&De(ee,r[0]),d&0){Ne=xt;let u;for(u=0;u<Ne.length;u+=1){const z=Jt(r,Ne,u);F[u]?F[u].p(z,d):(F[u]=Qt(z),F[u].c(),F[u].m(ue,null))}for(;u<F.length;u+=1)F[u].d(1);F.length=Ne.length}if(d[0]&2&&De(ue,r[1]),d&0){Z=Ht;let u;for(u=0;u<Z.length;u+=1){const z=kt(r,Z,u);Y[u]?Y[u].p(z,d):(Y[u]=Zt(z),Y[u].c(),Y[u].m(ce,null))}for(;u<Y.length;u+=1)Y[u].d(1);Y.length=Z.length}d[0]&4&&De(ce,r[2])},d(r){r&&n(e),r&&n(o),r&&n(s),rt(L,r),r&&n(m),r&&n(p),r&&n(h),r&&n(_),r&&n(P),r&&n(R),r&&n($),r&&n(N),r&&n(q),r&&n(oe),r&&n(C),r&&n(j),r&&n(Se),r&&n(V),r&&n(Q),r&&n(x),r&&n(ge),r&&n(fe),r&&n(we),r&&n(G),r&&n(k),r&&n(W),r&&n(ve),r&&n(ee),rt(K,r),r&&n(Ie),r&&n(T),r&&n(He),r&&n(ue),rt(F,r),r&&n(pe),r&&n(he),r&&n(ae),r&&n(ce),rt(Y,r),r&&n(Ae),r&&n(Te),r&&n(se),r&&n(Ee),Ce=!1,dt(ze)}}}function Xt(t){let e,l=t[67]+"",o,s,m=t[68]+"",p;return{c(){e=c("option"),o=w(l),s=w(" - "),p=w(m),this.h()},l(b){e=f(b,"OPTION",{});var h=y(e);o=A(h,l),s=A(h," - "),p=A(h,m),h.forEach(n),this.h()},h(){e.__value=t[67],e.value=e.__value},m(b,h){v(b,e,h),a(e,o),a(e,s),a(e,p)},p:Ze,d(b){b&&n(e)}}}function qt(t){let e,l=t[67]+"",o,s,m=t[68]+"",p;return{c(){e=c("option"),o=w(l),s=w(" - "),p=w(m),this.h()},l(b){e=f(b,"OPTION",{});var h=y(e);o=A(h,l),s=A(h," - "),p=A(h,m),h.forEach(n),this.h()},h(){e.__value={organization_id:t[74],organization:t[73]},e.value=e.__value},m(b,h){v(b,e,h),a(e,o),a(e,s),a(e,p)},p:Ze,d(b){b&&n(e)}}}function Qt(t){let e,l=t[68]+"",o;return{c(){e=c("option"),o=w(l),this.h()},l(s){e=f(s,"OPTION",{});var m=y(e);o=A(m,l),m.forEach(n),this.h()},h(){e.__value=t[67],e.value=e.__value},m(s,m){v(s,e,m),a(e,o)},p:Ze,d(s){s&&n(e)}}}function Zt(t){let e,l=t[67]+"",o,s,m=t[68]+"",p;return{c(){e=c("option"),o=w(l),s=w(" - "),p=w(m),this.h()},l(b){e=f(b,"OPTION",{});var h=y(e);o=A(h,l),s=A(h," - "),p=A(h,m),h.forEach(n),this.h()},h(){e.__value=t[67],e.value=e.__value},m(b,h){v(b,e,h),a(e,o),a(e,s),a(e,p)},p:Ze,d(b){b&&n(e)}}}function $t(t){let e,l,o,s,m,p,b,h,_,P,R,U,$,N,q,oe;return{c(){e=c("label"),l=w("oid"),o=S(),s=c("input"),m=S(),p=c("label"),b=w("version"),h=S(),_=c("input"),P=S(),R=c("label"),U=w("File"),$=S(),N=c("input"),this.h()},l(E){e=f(E,"LABEL",{for:!0});var C=y(e);l=A(C,"oid"),C.forEach(n),o=g(E),s=f(E,"INPUT",{type:!0,style:!0,id:!0,class:!0}),m=g(E),p=f(E,"LABEL",{for:!0});var j=y(p);b=A(j,"version"),j.forEach(n),h=g(E),_=f(E,"INPUT",{type:!0,style:!0,id:!0,class:!0}),P=g(E),R=f(E,"LABEL",{for:!0});var Se=y(R);U=A(Se,"File"),Se.forEach(n),$=g(E),N=f(E,"INPUT",{id:!0,type:!0,accept:!0,class:!0}),this.h()},h(){i(e,"for","oid"),i(s,"type","text"),le(s,"border-color",t[20]?"black":"red"),i(s,"id","oid"),i(s,"class","svelte-1jnzdco"),i(p,"for","version"),i(_,"type","text"),le(_,"border-color",t[19]?"black":"red"),i(_,"id","version"),i(_,"class","svelte-1jnzdco"),i(R,"for","file_terminology"),i(N,"id","file_terminology"),i(N,"type","file"),i(N,"accept","*/*"),i(N,"class","w-full py-2 px-4 mb-4 rounded-md border border-gray-300")},m(E,C){v(E,e,C),a(e,l),v(E,o,C),v(E,s,C),D(s,t[14]),v(E,m,C),v(E,p,C),a(p,b),v(E,h,C),v(E,_,C),D(_,t[15]),v(E,P,C),v(E,R,C),a(R,U),v(E,$,C),v(E,N,C),q||(oe=[B(s,"input",t[49]),B(_,"input",t[50]),B(N,"change",t[31])],q=!0)},p(E,C){C[0]&1048576&&le(s,"border-color",E[20]?"black":"red"),C[0]&16384&&s.value!==E[14]&&D(s,E[14]),C[0]&524288&&le(_,"border-color",E[19]?"black":"red"),C[0]&32768&&_.value!==E[15]&&D(_,E[15])},d(E){E&&n(e),E&&n(o),E&&n(s),E&&n(m),E&&n(p),E&&n(h),E&&n(_),E&&n(P),E&&n(R),E&&n($),E&&n(N),q=!1,dt(oe)}}}function Dr(t){let e,l,o,s,m,p,b,h,_,P,R,U,$,N,q,oe,E,C,j,Se,V,be,Q,x,ge,fe,ne,we,G,k,W,Ve,ve,ee,Ie,T,Re,He,ue,pe,he,xe,ae,ce,Ae,Te,Ke,se,Ee,Ce,ze,je,L,Le,K,Ne,F,Z,Y,r,d,u,z,Be,ke,de,I,ie,J,H,Oe,te,Pe,Ye,M,nt,mt,ye=t[18]&&Ft(),_e=t[4]=="Gateway"&&Yt(t),me=t[4]=="Terminology"&&$t(t);return{c(){e=c("div"),ye&&ye.c(),l=S(),o=c("div"),s=c("h1"),m=w("JWT Generation"),p=S(),b=c("form"),h=c("div"),_=c("div"),P=c("h2"),R=w("Certificato di Firma"),U=S(),$=c("label"),N=w(`PEM Signature:
						`),q=c("input"),oe=S(),E=c("br"),C=S(),j=c("label"),Se=w(`Private Key:
						`),V=c("input"),be=S(),Q=c("div"),x=c("h2"),ge=w("Sistema Target"),fe=S(),ne=c("span"),we=w("Select Option:"),G=S(),k=c("select"),W=c("option"),Ve=w("Gateway"),ve=c("option"),ee=w("Terminology"),Ie=S(),T=c("div"),Re=c("h2"),He=w("Data Json"),ue=S(),pe=c("label"),he=w("Subject"),xe=S(),ae=c("input"),ce=S(),Ae=c("label"),Te=w("aud"),Ke=S(),se=c("input"),Ee=S(),Ce=c("label"),ze=w("jti"),je=S(),L=c("input"),Le=S(),K=c("label"),Ne=w("Issuer"),F=S(),Z=c("input"),Y=S(),_e&&_e.c(),r=S(),me&&me.c(),d=S(),u=c("div"),z=c("button"),Be=w("GENERA JWT"),ke=S(),de=c("div"),I=c("span"),ie=w("Authorization"),J=S(),H=c("input"),Oe=S(),te=c("span"),Pe=w("Signature"),Ye=S(),M=c("input"),this.h()},l(O){e=f(O,"DIV",{});var re=y(e);ye&&ye.l(re),l=g(re),o=f(re,"DIV",{class:!0});var Xe=y(o);s=f(Xe,"H1",{class:!0});var bt=y(s);m=A(bt,"JWT Generation"),bt.forEach(n),p=g(Xe),b=f(Xe,"FORM",{});var vt=y(b);h=f(vt,"DIV",{class:!0});var Je=y(h);_=f(Je,"DIV",{class:!0});var Ge=y(_);P=f(Ge,"H2",{class:!0});var Et=y(P);R=A(Et,"Certificato di Firma"),Et.forEach(n),U=g(Ge),$=f(Ge,"LABEL",{});var at=y($);N=A(at,`PEM Signature:
						`),q=f(at,"INPUT",{type:!0,accept:!0,class:!0}),at.forEach(n),oe=g(Ge),E=f(Ge,"BR",{}),C=g(Ge),j=f(Ge,"LABEL",{});var st=y(j);Se=A(st,`Private Key:
						`),V=f(st,"INPUT",{type:!0,accept:!0,class:!0}),st.forEach(n),Ge.forEach(n),be=g(Je),Q=f(Je,"DIV",{class:!0});var qe=y(Q);x=f(qe,"H2",{class:!0});var yt=y(x);ge=A(yt,"Sistema Target"),yt.forEach(n),fe=g(qe),ne=f(qe,"SPAN",{class:!0});var St=y(ne);we=A(St,"Select Option:"),St.forEach(n),G=g(qe),k=f(qe,"SELECT",{class:!0});var it=y(k);W=f(it,"OPTION",{});var gt=y(W);Ve=A(gt,"Gateway"),gt.forEach(n),ve=f(it,"OPTION",{});var wt=y(ve);ee=A(wt,"Terminology"),wt.forEach(n),it.forEach(n),qe.forEach(n),Ie=g(Je),T=f(Je,"DIV",{class:!0});var X=y(T);Re=f(X,"H2",{class:!0});var At=y(Re);He=A(At,"Data Json"),At.forEach(n),ue=g(X),pe=f(X,"LABEL",{for:!0});var Tt=y(pe);he=A(Tt,"Subject"),Tt.forEach(n),xe=g(X),ae=f(X,"INPUT",{type:!0,id:!0,style:!0,class:!0}),ce=g(X),Ae=f(X,"LABEL",{for:!0});var Pt=y(Ae);Te=A(Pt,"aud"),Pt.forEach(n),Ke=g(X),se=f(X,"INPUT",{type:!0,id:!0,style:!0,class:!0}),Ee=g(X),Ce=f(X,"LABEL",{for:!0});var It=y(Ce);ze=A(It,"jti"),It.forEach(n),je=g(X),L=f(X,"INPUT",{type:!0,id:!0,style:!0,class:!0}),Le=g(X),K=f(X,"LABEL",{for:!0});var Rt=y(K);Ne=A(Rt,"Issuer"),Rt.forEach(n),F=g(X),Z=f(X,"INPUT",{type:!0,id:!0,style:!0,class:!0}),Y=g(X),_e&&_e.l(X),r=g(X),me&&me.l(X),X.forEach(n),d=g(Je),u=f(Je,"DIV",{class:!0});var Ct=y(u);z=f(Ct,"BUTTON",{type:!0,class:!0});var jt=y(z);Be=A(jt,"GENERA JWT"),jt.forEach(n),Ct.forEach(n),Je.forEach(n),vt.forEach(n),ke=g(Xe),de=f(Xe,"DIV",{class:!0});var We=y(de);I=f(We,"SPAN",{class:!0});var Lt=y(I);ie=A(Lt,"Authorization"),Lt.forEach(n),J=g(We),H=f(We,"INPUT",{type:!0,class:!0}),Oe=g(We),te=f(We,"SPAN",{class:!0});var Nt=y(te);Pe=A(Nt,"Signature"),Nt.forEach(n),Ye=g(We),M=f(We,"INPUT",{type:!0,class:!0}),We.forEach(n),Xe.forEach(n),re.forEach(n),this.h()},h(){i(s,"class","pt-4 text-gray-700 text-2xl font-mono font-extrabold text-center mb-5"),i(P,"class","text-xl font-mono text-center mt-2"),q.required=!0,i(q,"type","file"),i(q,"accept","*/*"),i(q,"class","py-2 px-3 block w-full leading-5 rounded-md sm:text-sm sm:leading-5 col-span-2"),V.required=!0,i(V,"type","file"),i(V,"accept","*/*"),i(V,"class","py-2 px-3 block w-full leading-5 rounded-md sm:text-sm sm:leading-5 col-span-2"),i(_,"class","rounded-lg shadow-md px-4 font-mono border"),i(x,"class","text-xl font-mono text-center mt-4 col-span-3"),i(ne,"class","col-span-1 flex items-center"),W.__value="Gateway",W.value=W.__value,ve.__value="Terminology",ve.value=ve.__value,i(k,"class","py-2 px-3 block w-full leading-5 rounded-md sm:text-sm sm:leading-5 col-span-2"),t[4]===void 0&&tt(()=>t[35].call(k)),i(Q,"class","grid grid-rows-3 grid-cols-3 rounded-lg shadow-md px-4 pb-4 font-mono border"),i(Re,"class","text-xl font-mono text-center mt-4 col-span-full"),i(pe,"for","sub"),i(ae,"type","text"),i(ae,"id","sub"),le(ae,"border-color",t[28]?"black":"red"),i(ae,"class","svelte-1jnzdco"),i(Ae,"for","aud"),i(se,"type","text"),i(se,"id","aud"),le(se,"border-color",t[26]?"black":"red"),i(se,"class","svelte-1jnzdco"),i(Ce,"for","jti"),i(L,"type","text"),i(L,"id","jti"),le(L,"border-color",t[25]?"black":"red"),i(L,"class","svelte-1jnzdco"),i(K,"for","iss"),i(Z,"type","text"),i(Z,"id","iss"),le(Z,"border-color",t[27]?"black":"red"),i(Z,"class","svelte-1jnzdco"),i(T,"class","mt-10 col-span-2 grid grid-cols-2 md:grid-cols-4 gap-2 rounded-lg shadow-md px-4 pb-4 font-mono border items-center place-content-center"),i(z,"type","submit"),i(z,"class","rounded-md bg-green-500 text-white font-extrabold font-mono hover:bg-green-600 h-10 w-40 m-4"),i(u,"class","col-span-full p-4 text-center grid place-content-center content-center grid-flow-col gap-2"),i(h,"class","grid grid-cols-2 gap-2"),i(I,"class","col-span-1"),i(H,"type","text"),i(H,"class","h-10 border-2 border-gray-300 rounded-md py-2 px-4 block w-full leading-5 col-span-2 svelte-1jnzdco"),i(te,"class","col-span-1"),i(M,"type","text"),i(M,"class","h-10 border-2 border-gray-300 rounded-md py-2 px-4 block w-full leading-5 col-span-2 svelte-1jnzdco"),i(de,"class","grid grid-cols-3"),i(o,"class","p-4 pt-20 md:w-3/4 mx-auto")},m(O,re){v(O,e,re),ye&&ye.m(e,null),a(e,l),a(e,o),a(o,s),a(s,m),a(o,p),a(o,b),a(b,h),a(h,_),a(_,P),a(P,R),a(_,U),a(_,$),a($,N),a($,q),a(_,oe),a(_,E),a(_,C),a(_,j),a(j,Se),a(j,V),a(h,be),a(h,Q),a(Q,x),a(x,ge),a(Q,fe),a(Q,ne),a(ne,we),a(Q,G),a(Q,k),a(k,W),a(W,Ve),a(k,ve),a(ve,ee),De(k,t[4]),a(h,Ie),a(h,T),a(T,Re),a(Re,He),a(T,ue),a(T,pe),a(pe,he),a(T,xe),a(T,ae),D(ae,t[5]),a(T,ce),a(T,Ae),a(Ae,Te),a(T,Ke),a(T,se),D(se,t[11]),a(T,Ee),a(T,Ce),a(Ce,ze),a(T,je),a(T,L),D(L,t[13]),a(T,Le),a(T,K),a(K,Ne),a(T,F),a(T,Z),D(Z,t[6]),a(T,Y),_e&&_e.m(T,null),a(T,r),me&&me.m(T,null),a(h,d),a(h,u),a(u,z),a(z,Be),a(o,ke),a(o,de),a(de,I),a(I,ie),a(de,J),a(de,H),D(H,t[16]),a(de,Oe),a(de,te),a(te,Pe),a(de,Ye),a(de,M),D(M,t[17]),nt||(mt=[B(q,"change",t[32]),B(V,"change",t[33]),B(k,"change",t[35]),B(k,"change",t[29]),B(ae,"input",t[36]),B(se,"input",t[37]),B(L,"input",t[38]),B(Z,"input",t[39]),B(b,"submit",ur(t[34])),B(H,"input",t[51]),B(M,"input",t[52])],nt=!0)},p(O,re){O[18]?ye||(ye=Ft(),ye.c(),ye.m(e,l)):ye&&(ye.d(1),ye=null),re[0]&16&&De(k,O[4]),re[0]&268435456&&le(ae,"border-color",O[28]?"black":"red"),re[0]&32&&ae.value!==O[5]&&D(ae,O[5]),re[0]&67108864&&le(se,"border-color",O[26]?"black":"red"),re[0]&2048&&se.value!==O[11]&&D(se,O[11]),re[0]&33554432&&le(L,"border-color",O[25]?"black":"red"),re[0]&8192&&L.value!==O[13]&&D(L,O[13]),re[0]&134217728&&le(Z,"border-color",O[27]?"black":"red"),re[0]&64&&Z.value!==O[6]&&D(Z,O[6]),O[4]=="Gateway"?_e?_e.p(O,re):(_e=Yt(O),_e.c(),_e.m(T,r)):_e&&(_e.d(1),_e=null),O[4]=="Terminology"?me?me.p(O,re):(me=$t(O),me.c(),me.m(T,null)):me&&(me.d(1),me=null),re[0]&65536&&H.value!==O[16]&&D(H,O[16]),re[0]&131072&&M.value!==O[17]&&D(M,O[17])},i:Ze,o:Ze,d(O){O&&n(e),ye&&ye.d(),_e&&_e.d(),me&&me.d(),nt=!1,dt(mt)}}}function Ur(t){return t.length>0}function Vr(t){return t.length>0}function Kr(t){return t.length>0}function Mr(t){return t.length>0}function zr(t){return t.length>0}function Br(t){return t.length>0}function kr(t){return t.length>0}function Jr(t){return t.length>0}function Gr(t){return console.log("Valido OID:"+t.length),t.length>0}function Wr(t){return t.length>0}function Fr(t){return t.replace("-----BEGIN PUBLIC KEY-----","").replace(/\r?\n|\r/g,"").replace("-----END PUBLIC KEY-----","").replace("-----BEGIN CERTIFICATE-----","").replace(/\r?\n|\r/g,"").replace("-----END CERTIFICATE-----","").replace(`
`,"")}function Yr(t,e,l){let o,s,m,p,b,h,_,P,R,U,$,N,q,oe="CREATE",E="TREATMENT",C="AAS",j="Gateway",Se,V="SSSMNN75B01F257L^^^&amp;2.16.840.1.113883.2.9.4.3.2&amp;ISO",be="S1#190201234567XX",Q="201123456",x="GTW",ge="GATEWAY",fe="R2",ne="https://modipa-val.fse.salute.gov.it/govway/rest/in/FSE/gateway/v1",we=!0,G="",k="",W="";function Ve(I){l(4,j=I.target.value),j==="Terminology"&&(l(5,V="PROVAX00X00X000Y"),l(11,ne="https://modipa-val.fse.salute.gov.it/govway/rest/in/FSE/terminology/v1"))}const ve=I=>{Se=I.target.files[0],Se.name};let ee,Ie="";const T=async I=>{ee=I.target.files[0],ee.name,Ie=await Re(ee),console.log(Ie)},Re=async I=>{const ie=await I.arrayBuffer(),J=await crypto.subtle.digest("SHA-256",ie);return Array.from(new Uint8Array(J)).map(te=>te.toString(16).padStart(2,"0")).join("")};function He(I){const ie=I.target.files[0],J=new FileReader;J.onload=function(H){N=Fr(H.target.result)},J.onerror=function(H){console.error("Error reading the file")},J.readAsText(ie)}function ue(I){const ie=I.target.files[0],J=new FileReader;J.onload=function(H){q=H.target.result},J.onerror=function(H){console.error("Error reading the file")},J.readAsText(ie)}let pe="",he="",xe=!1;async function ae(){if(ce()&&Ae()&&Te()){const ie="RS256",J="JWT",H=[N];l(16,pe=await Ke(ie,J,H)),l(17,he=await se(ie,J,H))}l(18,xe=!1)}function ce(){return l(28,o=Ur(V)),l(27,s=Vr(be)),l(26,_=kr(ne)),l(25,P=Jr(G)),o&&s&&_&&P}function Ae(){let I=!0;return j=="Gateway"&&(l(24,m=Kr(Q)),l(23,p=Mr(x)),l(22,b=zr(ge)),l(21,h=Br(fe)),I=m&&p&&b&&h),I}function Te(){let I=!0;return j=="Terminology"&&(l(20,R=Gr(k)),l(19,U=Wr(W)),I=R&&U,console.log(I)),I}function Ke(I,ie,J){return new Promise((H,Oe)=>{Mt(q,I).then(te=>new Bt({}).setProtectedHeader({alg:I,typ:ie,x5c:J}).setSubject(V).setAudience(ne).setIssuedAt().setIssuer("auth:"+be).setExpirationTime("24h").setJti(G).sign(te)).then(te=>{H(te.toString())}).catch(te=>{console.error(te),Oe(te)})})}function se(I,ie,J){let H=[];return j=="Gateway"?H={sub:V,subject_role:C,purpose_of_use:E,iss:be,locality:Q,subject_application_id:x,subject_application_vendor:ge,subject_application_version:fe,aud:ne,patient_consent:we,jti:G,action_id:oe}:j=="Terminology"&&(H={oid:k,version:W,file_hash_terminology:Ie}),new Promise((Oe,te)=>{Mt(q,I).then(Pe=>new Bt(H).setProtectedHeader({alg:I,typ:ie,x5c:J}).setSubject(V).setAudience(ne).setIssuedAt().setIssuer("integrity:"+be).setExpirationTime("24h").setJti(G).sign(Pe)).then(Pe=>{Oe(Pe.toString())}).catch(Pe=>{console.error(Pe),te(Pe)})})}function Ee(){j=$e(this),l(4,j)}function Ce(){V=this.value,l(5,V)}function ze(){ne=this.value,l(11,ne)}function je(){G=this.value,l(13,G)}function L(){be=this.value,l(6,be)}function Le(){C=$e(this),l(3,C)}function K(){Q=this.value,l(7,Q)}function Ne(){ge=this.value,l(9,ge)}function F(){x=this.value,l(8,x)}function Z(){fe=this.value,l(10,fe)}function Y(){we=this.value,l(12,we)}function r(){$=$e(this),l(0,$)}function d(){oe=$e(this),l(1,oe)}function u(){E=$e(this),l(2,E)}function z(){k=this.value,l(14,k)}function Be(){W=this.value,l(15,W)}function ke(){pe=this.value,l(16,pe)}function de(){he=this.value,l(17,he)}return l(28,o=!0),l(27,s=!0),l(24,m=!0),l(23,p=!0),l(22,b=!0),l(21,h=!0),l(26,_=!0),l(25,P=!0),l(20,R=!0),l(19,U=!0),[$,oe,E,C,j,V,be,Q,x,ge,fe,ne,we,G,k,W,pe,he,xe,U,R,h,b,p,m,P,_,s,o,Ve,ve,T,He,ue,ae,Ee,Ce,ze,je,L,Le,K,Ne,F,Z,Y,r,d,u,z,Be,ke,de]}class Qr extends ar{constructor(e){super(),sr(this,e,Yr,Dr,ir,{},null,[-1,-1,-1])}}export{Qr as component,qr as universal};
